---
alwaysApply: true
---
# Filament v4 å®Œæ•´æŒ‡å—

## æ¦‚è¿°

Filament v4 æ˜¯ Filament æ¡†æ¶çš„é‡å¤§ç‰ˆæœ¬æ›´æ–°ï¼Œå¸¶ä¾†äº†è¨±å¤šæ–°åŠŸèƒ½å’Œæ¶æ§‹æ”¹é€²ã€‚æœ¬æ–‡æª”å°‡è©³ç´°ä»‹ç´¹ v4 çš„æ–°ç‰¹æ€§ã€èˆ‡ v3 çš„å·®ç•°ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨é€™äº›æ–°åŠŸèƒ½ã€‚

## ä¸»è¦è®ŠåŒ–

### 1. æ¶æ§‹é‡æ§‹

#### 1.1 é¢æ¿ç³»çµ± (Panel System)
- **v3**: å–®ä¸€é¢æ¿æ¦‚å¿µ
- **v4**: å¤šé¢æ¿æ”¯æŒï¼Œå¯ä»¥å‰µå»ºå¤šå€‹ç¨ç«‹çš„ç®¡ç†é¢æ¿
- æ¯å€‹é¢æ¿å¯ä»¥æœ‰è‡ªå·±çš„ç”¨æˆ¶ã€è³‡æºã€é é¢å’Œé…ç½®
- æ”¯æŒä¸åŒçš„åŸŸåå’Œå­åŸŸå

#### 1.2 çµ„ä»¶æ¶æ§‹
- **v3**: åŸºæ–¼ Blade çµ„ä»¶
- **v4**: å®Œå…¨åŸºæ–¼ Livewire 3 å’Œ Alpine.js
- æ›´å¥½çš„éŸ¿æ‡‰å¼è¨­è¨ˆå’Œäº¤äº’é«”é©—
- æ›´å¼·å¤§çš„å¯¦æ™‚æ›´æ–°åŠŸèƒ½

### 2. è³‡æºç³»çµ± (Resources)

#### 2.1 è³‡æºæ¦‚è¿°
Filament è³‡æºæ˜¯ç®¡ç† Eloquent æ¨¡å‹çš„å®Œæ•´ CRUD ç•Œé¢ã€‚æ¯å€‹è³‡æºéƒ½åŒ…å«ä»¥ä¸‹é é¢ï¼š
- **List** - åˆ†é è¡¨æ ¼é¡¯ç¤ºæ‰€æœ‰è¨˜éŒ„
- **Create** - å‰µå»ºæ–°è¨˜éŒ„çš„è¡¨å–®
- **Edit** - ç·¨è¼¯ç¾æœ‰è¨˜éŒ„çš„è¡¨å–®
- **View** - åªè®€è¨˜éŒ„é¡¯ç¤º (v4 æ–°å¢)

#### 2.2 è³‡æºé é¢è©³è§£

##### 2.2.1 åˆ—è¡¨é é¢ (Listing Records)
**æ–°åŠŸèƒ½ï¼š**
- **æ¨™ç±¤é éæ¿¾**: ä½¿ç”¨ `getTabs()` æ–¹æ³•æ·»åŠ æ¨™ç±¤é ä¾†éæ¿¾è¨˜éŒ„
- **è‡ªå®šç¾©æ¨™ç±¤æ¨™ç±¤**: ä½¿ç”¨ `Tab::make('Custom Label')` è‡ªå®šç¾©æ¨™ç±¤åç¨±
- **æ¨™ç±¤åœ–æ¨™**: ä½¿ç”¨ `icon()` æ–¹æ³•æ·»åŠ åœ–æ¨™ï¼Œæ”¯æŒ `iconPosition()` è¨­ç½®ä½ç½®
- **æ¨™ç±¤å¾½ç« **: ä½¿ç”¨ `badge()` æ–¹æ³•æ·»åŠ å¾½ç« ï¼Œæ”¯æŒ `badgeColor()` è¨­ç½®é¡è‰²
- **é»˜èªæ¨™ç±¤**: ä½¿ç”¨ `getDefaultActiveTab()` è¨­ç½®é»˜èªé¸ä¸­çš„æ¨™ç±¤
- **è‡ªå®šç¾©æŸ¥è©¢**: ä½¿ç”¨ `modifyQueryUsing()` è‡ªå®šç¾© Eloquent æŸ¥è©¢
- **è‡ªå®šç¾©é é¢å…§å®¹**: ä½¿ç”¨ `content()` æ–¹æ³•è‡ªå®šç¾©é é¢çµæ§‹

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
public function getTabs(): array
{
    return [
        'all' => Tab::make('All customers'),
        'active' => Tab::make('Active customers')
            ->icon('heroicon-m-check-circle')
            ->badge(Customer::where('active', true)->count())
            ->modifyQueryUsing(fn (Builder $query) => $query->where('active', true)),
        'inactive' => Tab::make('Inactive customers')
            ->icon('heroicon-m-x-circle')
            ->badge(Customer::where('active', false)->count())
            ->modifyQueryUsing(fn (Builder $query) => $query->where('active', false)),
    ];
}

public function getDefaultActiveTab(): string | int | null
{
    return 'active';
}
```

##### 2.2.2 å‰µå»ºé é¢ (Creating Records)
**æ–°åŠŸèƒ½ï¼š**
- **ä¿å­˜å‰æ•¸æ“šè‡ªå®šç¾©**: ä½¿ç”¨ `mutateFormDataBeforeCreate()` æ–¹æ³•
- **è‡ªå®šç¾©å‰µå»ºéç¨‹**: ä½¿ç”¨ `create()` æ–¹æ³•å®Œå…¨è‡ªå®šç¾©å‰µå»ºé‚è¼¯
- **è‡ªå®šç¾©é‡å®šå‘**: ä½¿ç”¨ `getRedirectUrl()` æ–¹æ³•
- **è‡ªå®šç¾©é€šçŸ¥**: ä½¿ç”¨ `getCreatedNotification()` æ–¹æ³•
- **å‰µå»ºå¦ä¸€å€‹è¨˜éŒ„**: æ”¯æŒ"å‰µå»ºå¦ä¸€å€‹"åŠŸèƒ½ï¼Œå¯é€šé `hasCreateAnother()` ç¦ç”¨
- **ç”Ÿå‘½é€±æœŸé‰¤å­**: æä¾›å¤šå€‹é‰¤å­æ–¹æ³•å¦‚ `beforeCreate()`, `afterCreate()`
- **åš®å°æ”¯æŒ**: ä½¿ç”¨ `wizard()` æ–¹æ³•å•Ÿç”¨æ­¥é©Ÿå¼è¡¨å–®
- **å°å…¥åŠŸèƒ½**: æ”¯æŒæ‰¹é‡å°å…¥è¨˜éŒ„

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
protected function mutateFormDataBeforeCreate(array $data): array
{
    $data['user_id'] = auth()->id();
    return $data;
}

protected function getRedirectUrl(): string
{
    return $this->getResource()::getUrl('index');
}

protected function getCreatedNotification(): ?Notification
{
    return Notification::make()
        ->success()
        ->title('User registered')
        ->body('The user has been created successfully.');
}
```

##### 2.2.3 ç·¨è¼¯é é¢ (Editing Records)
**æ–°åŠŸèƒ½ï¼š**
- **ä¿å­˜å‰æ•¸æ“šè‡ªå®šç¾©**: ä½¿ç”¨ `mutateFormDataBeforeSave()` æ–¹æ³•
- **è‡ªå®šç¾©ä¿å­˜éç¨‹**: ä½¿ç”¨ `save()` æ–¹æ³•å®Œå…¨è‡ªå®šç¾©ä¿å­˜é‚è¼¯
- **è‡ªå®šç¾©é‡å®šå‘**: ä½¿ç”¨ `getRedirectUrl()` æ–¹æ³•
- **è‡ªå®šç¾©é€šçŸ¥**: ä½¿ç”¨ `getSavedNotification()` æ–¹æ³•
- **ç”Ÿå‘½é€±æœŸé‰¤å­**: æä¾›å¤šå€‹é‰¤å­æ–¹æ³•å¦‚ `beforeSave()`, `afterSave()`
- **åš®å°æ”¯æŒ**: ä½¿ç”¨ `wizard()` æ–¹æ³•å•Ÿç”¨æ­¥é©Ÿå¼è¡¨å–®

##### 2.2.4 è¦–åœ–é é¢ (Viewing Records)
**v4 å…¨æ–°åŠŸèƒ½ï¼š**
- åªè®€è¨˜éŒ„é¡¯ç¤ºé é¢
- ä½¿ç”¨ Infolist çµ„ä»¶é¡¯ç¤ºæ•¸æ“š
- æ”¯æŒè‡ªå®šç¾©ä½ˆå±€å’Œæ¨£å¼
- å¯æ·»åŠ è‡ªå®šç¾©æ“ä½œæŒ‰éˆ•

##### 2.2.5 åˆªé™¤é é¢ (Deleting Records)
**æ–°åŠŸèƒ½ï¼š**
- **è»Ÿåˆªé™¤æ”¯æŒ**: è‡ªå‹•è™•ç†è»Ÿåˆªé™¤æ¨¡å‹
- **å¼·åˆ¶åˆªé™¤**: æ”¯æŒæ°¸ä¹…åˆªé™¤è¨˜éŒ„
- **æ‰¹é‡åˆªé™¤**: æ”¯æŒæ‰¹é‡åˆªé™¤æ“ä½œ
- **è‡ªå®šç¾©åˆªé™¤é‚è¼¯**: ä½¿ç”¨ `delete()` æ–¹æ³•è‡ªå®šç¾©åˆªé™¤éç¨‹

#### 2.3 é—œä¿‚ç®¡ç† (Managing Relationships)
**æ–°åŠŸèƒ½ï¼š**
- **BelongsTo é—œä¿‚**: æ”¯æŒä¸‹æ‹‰é¸æ“‡å’Œæœç´¢
- **HasMany é—œä¿‚**: æ”¯æŒå…§åµŒè¡¨æ ¼ç®¡ç†
- **ManyToMany é—œä¿‚**: æ”¯æŒæ¨™ç±¤è¼¸å…¥å’Œå¤šé¸
- **è‡ªå®šç¾©é—œä¿‚å­—æ®µ**: å®Œå…¨è‡ªå®šç¾©é—œä¿‚é¡¯ç¤ºå’Œç·¨è¼¯

#### 2.4 åµŒå¥—è³‡æº (Nested Resources)
**v4 æ–°åŠŸèƒ½ï¼š**
- æ”¯æŒçˆ¶å­é—œä¿‚çš„è³‡æºç®¡ç†
- è‡ªå‹•è™•ç† URL çµæ§‹
- æ”¯æŒå¤šå±¤åµŒå¥—
- è‡ªå®šç¾©åµŒå¥—é‚è¼¯

#### 2.5 å–®ä¸€è³‡æº (Singular Resources)
**v4 æ–°åŠŸèƒ½ï¼š**
- ç”¨æ–¼ç®¡ç†å–®ä¸€è¨˜éŒ„çš„è³‡æº
- é©ç”¨æ–¼è¨­ç½®ã€é…ç½®ç­‰å ´æ™¯
- è‡ªå‹•éš±è—åˆ—è¡¨é é¢

#### 2.6 å…¨å±€æœç´¢ (Global Search)
**v4 æ–°åŠŸèƒ½ï¼š**
- è·¨è³‡æºçš„çµ±ä¸€æœç´¢åŠŸèƒ½
- æ”¯æŒè‡ªå®šç¾©æœç´¢é‚è¼¯
- æ”¯æŒæœç´¢çµæœé«˜äº®
- å¯é…ç½®æœç´¢ç¯„åœ

### 3. è¡¨æ ¼ç³»çµ± (Tables)

#### 3.1 åˆ—é¡å‹ (Columns)
**v4 æ–°å¢åˆ—é¡å‹ï¼š**
- **Text Column**: æ–‡æœ¬é¡¯ç¤ºï¼Œæ”¯æŒæ ¼å¼åŒ–
- **Icon Column**: åœ–æ¨™é¡¯ç¤º
- **Image Column**: åœ–ç‰‡é¡¯ç¤º
- **Color Column**: é¡è‰²é¡¯ç¤º
- **Select Column**: ä¸‹æ‹‰é¸æ“‡
- **Toggle Column**: é–‹é—œåˆ‡æ›
- **Text Input Column**: å…§è¯æ–‡æœ¬ç·¨è¼¯
- **Checkbox Column**: è¤‡é¸æ¡†é¸æ“‡

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Tables\Columns\TextColumn;
use Filament\Tables\Columns\ImageColumn;
use Filament\Tables\Columns\ToggleColumn;

TextColumn::make('name')
    ->searchable()
    ->sortable()
    ->formatStateUsing(fn (string $state): string => ucfirst($state));

ImageColumn::make('avatar')
    ->circular()
    ->size(40);

ToggleColumn::make('is_active')
    ->onColor('success')
    ->offColor('danger');
```

#### 3.2 éæ¿¾å™¨ (Filters)
**v4 å¢å¼·åŠŸèƒ½ï¼š**
- **Select Filters**: ä¸‹æ‹‰é¸æ“‡éæ¿¾å™¨
- **Ternary Filters**: ä¸‰å…ƒéæ¿¾å™¨ (æ˜¯/å¦/å…¨éƒ¨)
- **Query Builder**: é«˜ç´šæŸ¥è©¢æ§‹å»ºå™¨
- **è‡ªå®šç¾©éæ¿¾å™¨**: å®Œå…¨è‡ªå®šç¾©éæ¿¾é‚è¼¯
- **éæ¿¾å™¨ä½ˆå±€**: æ”¯æŒä¸åŒçš„éæ¿¾å™¨ä½ˆå±€

#### 3.3 æ“ä½œ (Actions)
**v4 å¢å¼·åŠŸèƒ½ï¼š**
- **æ¨¡æ…‹æ¡†æ“ä½œ**: æ”¯æŒå½ˆçª—å½¢å¼çš„æ“ä½œ
- **æ“ä½œåˆ†çµ„**: å°‡ç›¸é—œæ“ä½œçµ„ç¹”åœ¨ä¸€èµ·
- **æ–°æ“ä½œé¡å‹**:
  - Replicate (è¤‡è£½)
  - Force-delete (å¼·åˆ¶åˆªé™¤)
  - Restore (æ¢å¾©)
  - Import (å°å…¥)
  - Export (å°å‡º)

#### 3.4 ä½ˆå±€å’ŒåŠŸèƒ½
- **è¡Œåˆ†çµ„**: æ”¯æŒæŒ‰åˆ—åˆ†çµ„é¡¯ç¤º
- **æ‘˜è¦**: è¡¨æ ¼åº•éƒ¨çµ±è¨ˆä¿¡æ¯
- **è‡ªå®šç¾©æ•¸æ“š**: æ”¯æŒé Eloquent æ•¸æ“šæº
- **ç©ºç‹€æ…‹**: è‡ªå®šç¾©ç©ºæ•¸æ“šé¡¯ç¤º

### 4. è¡¨å–®ç³»çµ± (Forms)

#### 4.1 æ¦‚è¿°
**v4 è¡¨å–®ç³»çµ±ç‰¹é»ï¼š**
- åŸºæ–¼ Livewire 3 çš„éŸ¿æ‡‰å¼è¡¨å–®
- æ”¯æŒå¯¦æ™‚é©—è­‰å’ŒéŒ¯èª¤è™•ç†
- è±å¯Œçš„å­—æ®µé¡å‹å’Œé©—è­‰é¸é …
- é«˜åº¦å¯è‡ªå®šç¾©çš„æ¨£å¼å’Œè¡Œç‚º
- æ”¯æŒæ¢ä»¶å­—æ®µå’Œå‹•æ…‹è¡¨å–®

#### 4.2 åŸºç¤å­—æ®µçµ„ä»¶

##### 4.2.1 æ–‡æœ¬è¼¸å…¥ (Text Input)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- æ”¯æŒå¤šç¨®è¼¸å…¥é¡å‹ï¼štext, email, password, number, tel, url
- å¯¦æ™‚é©—è­‰å’ŒéŒ¯èª¤é¡¯ç¤º
- æ”¯æŒå‰ç¶´ã€å¾Œç¶´å’Œåœ–æ¨™
- è‡ªå‹•å®Œæˆå’Œå»ºè­°åŠŸèƒ½
- æ”¯æŒæ©ç¢¼è¼¸å…¥

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\TextInput;

TextInput::make('name')
    ->label('Full Name')
    ->required()
    ->maxLength(255)
    ->minLength(2)
    ->unique(ignoreRecord: true)
    ->placeholder('Enter your full name')
    ->prefix('ğŸ‘¤')
    ->suffix('@example.com')
    ->helperText('Enter your first and last name')
    ->live(onBlur: true)
    ->afterStateUpdated(function ($state, $set) {
        $set('slug', Str::slug($state));
    });
```

##### 4.2.2 é¸æ“‡å™¨ (Select)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- æ”¯æŒé¸é …æ•¸çµ„å’Œé—œä¿‚æŸ¥è©¢
- æœç´¢å’Œéæ¿¾åŠŸèƒ½
- åˆ†çµ„é¸é …æ”¯æŒ
- å¤šé¸å’Œå–®é¸æ¨¡å¼
- è‡ªå®šç¾©é¸é …æ¸²æŸ“

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\Select;

Select::make('status')
    ->options([
        'draft' => 'Draft',
        'published' => 'Published',
        'archived' => 'Archived',
    ])
    ->required()
    ->searchable()
    ->preload()
    ->native(false)
    ->placeholder('Select a status')
    ->default('draft');

// é—œä¿‚é¸æ“‡å™¨
Select::make('user_id')
    ->relationship('user', 'name')
    ->searchable()
    ->preload()
    ->createOptionForm([
        TextInput::make('name')->required(),
        TextInput::make('email')->email()->required(),
    ]);
```

##### 4.2.3 è¤‡é¸æ¡† (Checkbox)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- å–®å€‹è¤‡é¸æ¡†å’Œè¤‡é¸æ¡†åˆ—è¡¨
- è‡ªå®šç¾©æ¨™ç±¤å’Œæè¿°
- æ¢ä»¶é¡¯ç¤ºå’Œé©—è­‰
- æ”¯æŒå¸ƒçˆ¾å€¼å’Œæ•¸çµ„å€¼

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\Checkbox;
use Filament\Forms\Components\CheckboxList;

Checkbox::make('terms')
    ->label('I agree to the terms and conditions')
    ->required()
    ->accepted();

CheckboxList::make('permissions')
    ->options([
        'read' => 'Read',
        'write' => 'Write',
        'delete' => 'Delete',
        'admin' => 'Administrator',
    ])
    ->columns(2)
    ->required();
```

##### 4.2.4 é–‹é—œåˆ‡æ› (Toggle)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- å¸ƒçˆ¾å€¼åˆ‡æ›é–‹é—œ
- è‡ªå®šç¾©é–‹é—œæ¨™ç±¤
- æ”¯æŒå…§è¯å’Œå¡Šç´šé¡¯ç¤º
- è‡ªå®šç¾©é¡è‰²å’Œæ¨£å¼

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\Toggle;

Toggle::make('is_active')
    ->label('Active Status')
    ->onIcon('heroicon-s-check')
    ->offIcon('heroicon-s-x-mark')
    ->onColor('success')
    ->offColor('danger')
    ->inline(false)
    ->default(true);
```

##### 4.2.5 å–®é¸æŒ‰éˆ• (Radio)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- å–®é¸æŒ‰éˆ•çµ„
- æ”¯æŒå‚ç›´å’Œæ°´å¹³ä½ˆå±€
- è‡ªå®šç¾©é¸é …æ¸²æŸ“
- æ¢ä»¶é¡¯ç¤ºå’Œé©—è­‰

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\Radio;

Radio::make('notification_type')
    ->options([
        'email' => 'Email notifications',
        'sms' => 'SMS notifications',
        'push' => 'Push notifications',
        'none' => 'No notifications',
    ])
    ->columns(2)
    ->default('email');
```

##### 4.2.6 æ—¥æœŸæ™‚é–“é¸æ“‡å™¨ (Date Time Picker)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- æ—¥æœŸã€æ™‚é–“å’Œæ—¥æœŸæ™‚é–“é¸æ“‡
- è‡ªå®šç¾©æ ¼å¼å’Œæœ¬åœ°åŒ–
- ç¯„åœé¸æ“‡æ”¯æŒ
- æ™‚å€è™•ç†

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\DateTimePicker;
use Filament\Forms\Components\DatePicker;
use Filament\Forms\Components\TimePicker;

DateTimePicker::make('published_at')
    ->label('Publish Date & Time')
    ->displayFormat('M j, Y g:i A')
    ->native(false)
    ->seconds(false)
    ->timezone('UTC');

DatePicker::make('birth_date')
    ->label('Date of Birth')
    ->native(false)
    ->maxDate(now())
    ->displayFormat('M j, Y');
```

##### 4.2.7 æ–‡ä»¶ä¸Šå‚³ (File Upload)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- å–®æ–‡ä»¶å’Œå¤šæ–‡ä»¶ä¸Šå‚³
- æ”¯æŒæ‹–æ‹½ä¸Šå‚³
- æ–‡ä»¶é¡å‹é©—è­‰
- åœ–ç‰‡é è¦½å’Œè£å‰ª
- é›²å­˜å„²æ”¯æŒ

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\FileUpload;

FileUpload::make('avatar')
    ->label('Profile Picture')
    ->image()
    ->imageEditor()
    ->imageCropAspectRatio('1:1')
    ->imageResizeTargetWidth('192')
    ->imageResizeTargetHeight('192')
    ->directory('avatars')
    ->maxSize(5120)
    ->acceptedFileTypes(['image/jpeg', 'image/png', 'image/webp']);

FileUpload::make('documents')
    ->label('Documents')
    ->multiple()
    ->maxFiles(5)
    ->acceptedFileTypes(['application/pdf', 'application/msword'])
    ->maxSize(10240);
```

#### 4.3 é«˜ç´šå­—æ®µçµ„ä»¶

##### 4.3.1 å¯Œæ–‡æœ¬ç·¨è¼¯å™¨ (Rich Editor)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- åŸºæ–¼ TipTap çš„å¯Œæ–‡æœ¬ç·¨è¼¯å™¨
- å¯è‡ªå®šç¾©å·¥å…·æ¬„æŒ‰éˆ•
- æ”¯æŒåœ–ç‰‡ã€éˆæ¥å’Œè¡¨æ ¼
- å¯¦æ™‚å”ä½œæ”¯æŒ
- è‡ªå®šç¾©å…§å®¹é©—è­‰

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\RichEditor;

RichEditor::make('content')
    ->label('Article Content')
    ->toolbarButtons([
        'bold',
        'italic',
        'underline',
        'strike',
        'link',
        'bulletList',
        'orderedList',
        'h2',
        'h3',
        'blockquote',
        'codeBlock',
        'table',
    ])
    ->fileAttachmentsDisk('public')
    ->fileAttachmentsDirectory('uploads')
    ->fileAttachmentsVisibility('public')
    ->columnSpanFull();
```

##### 4.3.2 Markdown ç·¨è¼¯å™¨ (Markdown Editor)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- æ”¯æŒ Markdown èªæ³•
- å¯¦æ™‚é è¦½
- èªæ³•é«˜äº®
- è‡ªå®šç¾©å·¥å…·æ¬„
- æ–‡ä»¶é™„ä»¶æ”¯æŒ

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\MarkdownEditor;

MarkdownEditor::make('description')
    ->label('Description')
    ->toolbarButtons([
        'bold',
        'italic',
        'link',
        'bulletList',
        'orderedList',
        'h2',
        'h3',
        'blockquote',
        'codeBlock',
    ])
    ->fileAttachmentsDisk('public')
    ->fileAttachmentsDirectory('uploads');
```

##### 4.3.3 é‡è¤‡å™¨ (Repeater)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- å‹•æ…‹æ·»åŠ /åˆªé™¤å­—æ®µçµ„
- æ”¯æŒåµŒå¥—é‡è¤‡å™¨
- è‡ªå®šç¾©é …ç›®æ¨™ç±¤
- æ¢ä»¶é¡¯ç¤ºå’Œé©—è­‰

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\Repeater;

Repeater::make('phone_numbers')
    ->schema([
        Select::make('type')
            ->options([
                'mobile' => 'Mobile',
                'home' => 'Home',
                'work' => 'Work',
            ])
            ->required(),
        TextInput::make('number')
            ->tel()
            ->required(),
    ])
    ->defaultItems(1)
    ->reorderableWithButtons()
    ->collapsible();
```

##### 4.3.4 æ§‹å»ºå™¨ (Builder)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- å‹•æ…‹å…§å®¹å¡Šæ§‹å»º
- å¯æ‹–æ‹½æ’åº
- è‡ªå®šç¾©å¡Šé¡å‹
- æ¢ä»¶é¡¯ç¤ºå’Œé©—è­‰

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\Builder;

Builder::make('content_blocks')
    ->blocks([
        Builder\Block::make('text')
            ->schema([
                TextInput::make('title')->required(),
                RichEditor::make('content')->required(),
            ]),
        Builder\Block::make('image')
            ->schema([
                TextInput::make('title')->required(),
                FileUpload::make('image')->image()->required(),
                TextInput::make('alt_text'),
            ]),
        Builder\Block::make('video')
            ->schema([
                TextInput::make('title')->required(),
                TextInput::make('video_url')->url()->required(),
            ]),
    ])
    ->collapsible();
```

##### 4.3.5 æ¨™ç±¤è¼¸å…¥ (Tags Input)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- å‹•æ…‹æ¨™ç±¤æ·»åŠ /åˆªé™¤
- è‡ªå‹•å®Œæˆå»ºè­°
- è‡ªå®šç¾©åˆ†éš”ç¬¦
- æ¨™ç±¤é©—è­‰

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\TagsInput;

TagsInput::make('tags')
    ->label('Article Tags')
    ->separator(',')
    ->suggestions([
        'laravel',
        'filament',
        'php',
        'javascript',
        'vue',
        'react',
    ])
    ->maxTags(10);
```

##### 4.3.6 å¤šè¡Œæ–‡æœ¬ (Textarea)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- å¤šè¡Œæ–‡æœ¬è¼¸å…¥
- è‡ªå‹•èª¿æ•´é«˜åº¦
- å­—ç¬¦è¨ˆæ•¸
- è‡ªå®šç¾©è¡Œæ•¸

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\Textarea;

Textarea::make('description')
    ->label('Description')
    ->rows(5)
    ->cols(50)
    ->maxLength(1000)
    ->characterCount()
    ->placeholder('Enter a detailed description...');
```

##### 4.3.7 éµå€¼å° (Key Value)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- å‹•æ…‹éµå€¼å°è¼¸å…¥
- è‡ªå®šç¾©éµå’Œå€¼é©—è­‰
- æ”¯æŒåµŒå¥—çµæ§‹
- æ‰¹é‡æ“ä½œ

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\KeyValue;

KeyValue::make('metadata')
    ->label('Custom Metadata')
    ->keyLabel('Property')
    ->valueLabel('Value')
    ->keyPlaceholder('Enter property name')
    ->valuePlaceholder('Enter property value')
    ->addActionLabel('Add Property')
    ->columnSpanFull();
```

##### 4.3.8 é¡è‰²é¸æ“‡å™¨ (Color Picker)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- é¡è‰²é¸æ“‡å’Œé è¦½
- æ”¯æŒå¤šç¨®é¡è‰²æ ¼å¼
- é è¨­é¡è‰²é¸é …
- è‡ªå®šç¾©èª¿è‰²æ¿

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\ColorPicker;

ColorPicker::make('theme_color')
    ->label('Theme Color')
    ->default('#3B82F6')
    ->format('hex')
    ->presetColors([
        '#3B82F6', // Blue
        '#EF4444', // Red
        '#10B981', // Green
        '#F59E0B', // Yellow
        '#8B5CF6', // Purple
    ]);
```

##### 4.3.9 åˆ‡æ›æŒ‰éˆ• (Toggle Buttons)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- æŒ‰éˆ•çµ„æ¨£å¼çš„é¸æ“‡å™¨
- æ”¯æŒå–®é¸å’Œå¤šé¸
- è‡ªå®šç¾©æŒ‰éˆ•æ¨£å¼
- åœ–æ¨™å’Œæ¨™ç±¤æ”¯æŒ

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\ToggleButtons;

ToggleButtons::make('status')
    ->options([
        'draft' => 'Draft',
        'published' => 'Published',
        'archived' => 'Archived',
    ])
    ->colors([
        'draft' => 'gray',
        'published' => 'success',
        'archived' => 'danger',
    ])
    ->icons([
        'draft' => 'heroicon-o-pencil',
        'published' => 'heroicon-o-check-circle',
        'archived' => 'heroicon-o-archive-box',
    ])
    ->inline();
```

##### 4.3.10 æ»‘å¡Š (Slider)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- æ•¸å€¼ç¯„åœé¸æ“‡
- è‡ªå®šç¾©æ­¥é•·å’Œç¯„åœ
- å¯¦æ™‚å€¼é¡¯ç¤º
- è‡ªå®šç¾©æ¨™ç±¤

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\Slider;

Slider::make('rating')
    ->label('Rating')
    ->minValue(1)
    ->maxValue(5)
    ->step(0.5)
    ->displaySteps(5)
    ->default(3);
```

##### 4.3.11 ä»£ç¢¼ç·¨è¼¯å™¨ (Code Editor)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- èªæ³•é«˜äº®æ”¯æŒ
- å¤šç¨®ç·¨ç¨‹èªè¨€
- è‡ªå‹•å®Œæˆ
- è¡Œè™Ÿé¡¯ç¤º

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\CodeEditor;

CodeEditor::make('custom_css')
    ->label('Custom CSS')
    ->language('css')
    ->minHeight(200)
    ->maxHeight(500);
```

##### 4.3.12 éš±è—å­—æ®µ (Hidden)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- éš±è—çš„è¡¨å–®å­—æ®µ
- ç”¨æ–¼å­˜å„²è¨ˆç®—å€¼æˆ–é»˜èªå€¼
- æ”¯æŒå‹•æ…‹å€¼è¨­ç½®

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\Hidden;

Hidden::make('user_id')
    ->default(fn () => auth()->id());

Hidden::make('created_at')
    ->default(now());
```

#### 4.4 é©—è­‰ç³»çµ± (Validation)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- æ”¯æŒæ‰€æœ‰ Laravel é©—è­‰è¦å‰‡
- å¯¦æ™‚é©—è­‰å’ŒéŒ¯èª¤é¡¯ç¤º
- è‡ªå®šç¾©é©—è­‰æ¶ˆæ¯
- æ¢ä»¶é©—è­‰
- è·¨å­—æ®µé©—è­‰

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
TextInput::make('email')
    ->email()
    ->required()
    ->unique(table: User::class, column: 'email', ignoreRecord: true)
    ->rules([
        'email',
        'max:255',
        Rule::unique('users', 'email')->ignore($this->record),
    ])
    ->validationMessages([
        'email.required' => 'Email address is required.',
        'email.email' => 'Please enter a valid email address.',
        'email.unique' => 'This email address is already taken.',
    ]);

// æ¢ä»¶é©—è­‰
TextInput::make('password')
    ->password()
    ->required(fn ($get) => $get('change_password'))
    ->minLength(8)
    ->confirmed();

TextInput::make('password_confirmation')
    ->password()
    ->required(fn ($get) => $get('change_password'));
```

#### 4.5 è‡ªå®šç¾©å­—æ®µ (Custom Fields)
**å‰µå»ºè‡ªå®šç¾©å­—æ®µï¼š**
- ç¹¼æ‰¿ `Filament\Forms\Components\Field`
- è‡ªå®šç¾©æ¸²æŸ“é‚è¼¯
- æ”¯æŒé©—è­‰å’Œç‹€æ…‹ç®¡ç†
- å¯é‡ç”¨çµ„ä»¶

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Forms\Components\Field;

class CustomField extends Field
{
    protected string $view = 'forms.components.custom-field';

    public function getState(): mixed
    {
        return $this->evaluate($this->state);
    }

    protected function setUp(): void
    {
        parent::setUp();

        $this->afterStateHydrated(function ($state) {
            // è‡ªå®šç¾©ç‹€æ…‹è™•ç†é‚è¼¯
        });
    }
}
```

### 5. ä¿¡æ¯åˆ—è¡¨ (Infolists)

#### 5.1 æ¦‚è¿°
**v4 å…¨æ–°åŠŸèƒ½ï¼š**
- ç”¨æ–¼åªè®€é¡¯ç¤ºè¨˜éŒ„ä¿¡æ¯çš„å°ˆé–€ç³»çµ±
- æ›¿ä»£å‚³çµ±çš„è©³ç´°è¦–åœ–ï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ¶é«”é©—
- æ”¯æŒå¤šç¨®ä½ˆå±€å’Œæ¨£å¼ï¼Œé«˜åº¦å¯è‡ªå®šç¾©
- åŸºæ–¼ Schema ç³»çµ±ï¼Œèˆ‡è¡¨å–®å’Œä¿¡æ¯åˆ—è¡¨å…±äº«çµ„ä»¶
- æ”¯æŒéŸ¿æ‡‰å¼è¨­è¨ˆå’Œæ¢ä»¶é¡¯ç¤º
- é›†æˆåˆ°é¢æ¿è³‡æºã€é—œä¿‚ç®¡ç†å™¨å’Œæ“ä½œæ¨¡æ…‹æ¡†ä¸­
- é©ç”¨æ–¼è‡ªå®šç¾© Livewire æ‡‰ç”¨ç¨‹åº

#### 5.2 æ ¸å¿ƒæ¦‚å¿µ

##### 5.2.1 æ¢ç›®å®šç¾© (Defining Entries)
**æ¢ç›®æ˜¯ä¿¡æ¯åˆ—è¡¨çš„åŸºæœ¬æ§‹å»ºå¡Šï¼š**
```php
use Filament\Infolists\Components\TextEntry;

TextEntry::make('name')
    ->label('Full Name')
    ->size(TextEntry\TextEntrySize::Large);
```

##### 5.2.2 æ¢ç›®å…§å®¹ (Entry Content/State)
**è¨­ç½®æ¢ç›®çš„å…§å®¹å’Œç‹€æ…‹ï¼š**

**ç›´æ¥ä½¿ç”¨æ¨¡å‹å±¬æ€§ï¼š**
```php
TextEntry::make('name')  // è‡ªå‹•ä½¿ç”¨æ¨¡å‹çš„ name å±¬æ€§
```

**è‡ªå®šç¾©ç‹€æ…‹ï¼š**
```php
TextEntry::make('display_name')
    ->state(fn ($record) => "{$record->first_name} {$record->last_name}")
```

**é»˜èªç‹€æ…‹ï¼š**
```php
TextEntry::make('status')
    ->default('No status set')
```

##### 5.2.3 æ¢ç›®æ¨™ç±¤ (Entry Labels)
**è¨­ç½®å’Œè‡ªå®šç¾©æ¢ç›®æ¨™ç±¤ï¼š**

**è‡ªå®šç¾©æ¨™ç±¤ï¼š**
```php
TextEntry::make('email')
    ->label('Email Address')
```

**éš±è—æ¨™ç±¤ï¼š**
```php
TextEntry::make('name')
    ->label(false)
```

**å‹•æ…‹æ¨™ç±¤ï¼š**
```php
TextEntry::make('name')
    ->label(fn (string $state): string => str_contains($state, ' ') ? 'Full name' : 'Name')
```

##### 5.2.4 é»æ“Šæ¢ç›®æ‰“é–‹ URL
**ç‚ºæ¢ç›®æ·»åŠ é»æ“Šè¡Œç‚ºï¼š**
```php
TextEntry::make('email')
    ->url(fn ($state) => "mailto:{$state}")
    ->openUrlInNewTab();

TextEntry::make('website')
    ->url(fn ($state) => $state)
    ->openUrlInNewTab();
```

##### 5.2.5 éš±è—æ¢ç›® (Hiding Entries)
**æ¢ä»¶æ€§éš±è—æ¢ç›®ï¼š**

**åŸºæ–¼è¨˜éŒ„ç‹€æ…‹ï¼š**
```php
TextEntry::make('admin_notes')
    ->hidden(fn ($record) => $record->role !== 'admin')
```

**åŸºæ–¼æ“ä½œé¡å‹ï¼š**
```php
TextEntry::make('internal_id')
    ->hidden(fn (string $operation) => $operation === 'view')
```

**åŸºæ–¼æ¢ç›®ç‹€æ…‹ï¼š**
```php
TextEntry::make('sensitive_data')
    ->hidden(fn ($state) => empty($state))
```

##### 5.2.6 å…§è¯æ¨™ç±¤ (Inline Labels)
**ä½¿ç”¨å…§è¯æ¨™ç±¤æ¨£å¼ï¼š**

**å–®å€‹æ¢ç›®ï¼š**
```php
TextEntry::make('name')
    ->inlineLabel()
```

**å…¨å±€è¨­ç½®ï¼š**
```php
// åœ¨æœå‹™æä¾›è€…ä¸­
TextEntry::configureUsing(function (TextEntry $entry): void {
    $entry->inlineLabel();
});
```

##### 5.2.7 æ¢ç›®å·¥å…·æç¤º (Tooltips)
**ç‚ºæ¢ç›®æ·»åŠ å·¥å…·æç¤ºï¼š**
```php
TextEntry::make('status')
    ->tooltip('Current user status')
    ->tooltipIcon('heroicon-m-information-circle');
```

##### 5.2.8 å…§å®¹å°é½Š (Content Alignment)
**æ§åˆ¶æ¢ç›®å…§å®¹çš„å°é½Šæ–¹å¼ï¼š**
```php
TextEntry::make('amount')
    ->alignStart()    // å·¦å°é½Š
    ->alignCenter()   // å±…ä¸­å°é½Š
    ->alignEnd()      // å³å°é½Š
    ->alignJustify(); // å…©ç«¯å°é½Š
```

##### 5.2.9 æ·»åŠ é¡å¤–å…§å®¹ (Extra Content)
**åœ¨æ¢ç›®çš„ä¸åŒä½ç½®æ·»åŠ é¡å¤–å…§å®¹ï¼š**

**åœ¨æ¨™ç±¤ä¸Šæ–¹ï¼š**
```php
TextEntry::make('name')
    ->extraAttributes(['class' => 'font-bold'])
    ->extraContentAbove(fn ($state) => view('components.user-avatar', ['user' => $state]));
```

**åœ¨æ¨™ç±¤ä¹‹å‰ï¼š**
```php
TextEntry::make('email')
    ->extraContentBefore(fn ($state) => view('components.email-icon'));
```

**åœ¨æ¨™ç±¤ä¹‹å¾Œï¼š**
```php
TextEntry::make('status')
    ->extraContentAfter(fn ($state) => view('components.status-indicator', ['status' => $state]));
```

**åœ¨æ¨™ç±¤ä¸‹æ–¹ï¼š**
```php
TextEntry::make('description')
    ->extraContentBelow(fn ($state) => view('components.description-helper'));
```

**åœ¨å…§å®¹ä¸Šæ–¹ï¼š**
```php
TextEntry::make('content')
    ->extraContentAbove(fn ($state) => view('components.content-header'));
```

**åœ¨å…§å®¹ä¹‹å‰ï¼š**
```php
TextEntry::make('price')
    ->extraContentBefore(fn ($state) => '$')
```

**åœ¨å…§å®¹ä¹‹å¾Œï¼š**
```php
TextEntry::make('price')
    ->extraContentAfter(fn ($state) => ' USD')
```

##### 5.2.10 æ·»åŠ  HTML å±¬æ€§ (HTML Attributes)
**ç‚ºæ¢ç›®æ·»åŠ è‡ªå®šç¾© HTML å±¬æ€§ï¼š**

**ç‚ºæ¢ç›®æœ¬èº«ï¼š**
```php
TextEntry::make('name')
    ->extraAttributes([
        'class' => 'font-bold text-primary',
        'data-testid' => 'user-name',
    ]);
```

**ç‚ºæ¢ç›®åŒ…è£å™¨ï¼š**
```php
TextEntry::make('slug')
    ->extraEntryWrapperAttributes(['class' => 'components-locked']);
```

**å‹•æ…‹å±¬æ€§ï¼š**
```php
TextEntry::make('status')
    ->extraAttributes(function ($state, $record) {
        return [
            'class' => $state === 'active' ? 'text-success' : 'text-danger',
            'data-status' => $state,
        ];
    });
```

**åˆä½µå±¬æ€§ï¼š**
```php
TextEntry::make('name')
    ->extraAttributes(['class' => 'base-style'])
    ->extraAttributes(['class' => 'additional-style'], merge: true);
```

#### 5.3 å¯¦ç”¨å·¥å…·æ³¨å…¥ (Utility Injection)

##### 5.3.1 æ³¨å…¥ç•¶å‰æ¢ç›®ç‹€æ…‹
**è¨ªå•æ¢ç›®çš„ç•¶å‰å€¼ï¼š**
```php
TextEntry::make('name')
    ->label(fn (string $state): string => "Name: {$state}")
    ->color(fn (string $state): string => $state === 'Admin' ? 'danger' : 'primary');
```

##### 5.3.2 æ³¨å…¥å…¶ä»–æ¢ç›®çš„ç‹€æ…‹
**ç²å–å…¶ä»–æ¢ç›®çš„å€¼ï¼š**
```php
use Filament\Schemas\Components\Utilities\Get;

TextEntry::make('full_name')
    ->state(function (Get $get) {
        $firstName = $get('first_name');
        $lastName = $get('last_name');
        return "{$firstName} {$lastName}";
    });
```

##### 5.3.3 æ³¨å…¥ Eloquent è¨˜éŒ„
**è¨ªå•ç•¶å‰çš„ Eloquent è¨˜éŒ„ï¼š**
```php
use Illuminate\Database\Eloquent\Model;

TextEntry::make('user_info')
    ->state(function (?Model $record) {
        return $record ? "User ID: {$record->id}" : 'No user';
    });
```

##### 5.3.4 æ³¨å…¥ç•¶å‰æ“ä½œ
**æª¢æŸ¥ç•¶å‰çš„æ“ä½œé¡å‹ï¼š**
```php
TextEntry::make('editable_field')
    ->hidden(fn (string $operation) => $operation === 'view');
```

##### 5.3.5 æ³¨å…¥ Livewire çµ„ä»¶å¯¦ä¾‹
**è¨ªå• Livewire çµ„ä»¶ï¼š**
```php
use Livewire\Component;

TextEntry::make('component_data')
    ->state(function (Component $livewire) {
        return $livewire->someProperty;
    });
```

##### 5.3.6 æ³¨å…¥æ¢ç›®å¯¦ä¾‹
**è¨ªå•æ¢ç›®çµ„ä»¶å¯¦ä¾‹ï¼š**
```php
use Filament\Infolists\Components\Entry;

TextEntry::make('dynamic_label')
    ->label(function (Entry $component) {
        return $component->getName() . ' Label';
    });
```

##### 5.3.7 æ³¨å…¥å¤šå€‹å¯¦ç”¨å·¥å…·
**çµ„åˆå¤šå€‹å¯¦ç”¨å·¥å…·ï¼š**
```php
use App\Models\User;
use Filament\Schemas\Components\Utilities\Get;
use Livewire\Component as Livewire;

TextEntry::make('complex_data')
    ->state(function (Livewire $livewire, Get $get, User $record) {
        $email = $get('email');
        $componentData = $livewire->someProperty;
        $userId = $record->id;
        
        return "Email: {$email}, Component: {$componentData}, User: {$userId}";
    });
```

##### 5.3.8 æ³¨å…¥ Laravel å®¹å™¨ä¾è³´
**æ³¨å…¥ Laravel æœå‹™ï¼š**
```php
use App\Models\User;
use Illuminate\Http\Request;

TextEntry::make('request_data')
    ->state(function (Request $request, User $record) {
        return "IP: {$request->ip()}, User: {$record->name}";
    });
```

#### 5.4 å…¨å±€è¨­ç½® (Global Settings)
**ç‚ºæ‰€æœ‰æ¢ç›®è¨­ç½®é»˜èªè¡Œç‚ºï¼š**

```php
// åœ¨ AppServiceProvider çš„ boot() æ–¹æ³•ä¸­
use Filament\Infolists\Components\TextEntry;

TextEntry::configureUsing(function (TextEntry $entry): void {
    $entry->words(10);  // é™åˆ¶æ‰€æœ‰æ–‡æœ¬æ¢ç›®ç‚º10å€‹å–®è©
});

// ä»ç„¶å¯ä»¥åœ¨å€‹åˆ¥æ¢ç›®ä¸­è¦†è“‹
TextEntry::make('full_description')
    ->words(null);  // ä¸é™åˆ¶å–®è©æ•¸
```

#### 5.5 æœ€ä½³å¯¦è¸

##### 5.5.1 æ€§èƒ½å„ªåŒ–
- **é¿å… N+1 æŸ¥è©¢**: ä½¿ç”¨é©ç•¶çš„æ•¸æ“šåº«æŸ¥è©¢
- **æ¢ä»¶æ¸²æŸ“**: åˆç†ä½¿ç”¨æ¢ä»¶é¡¯ç¤º
- **ç·©å­˜è¨ˆç®—**: å°è¤‡é›œè¨ˆç®—é€²è¡Œç·©å­˜

##### 5.5.2 ç”¨æˆ¶é«”é©—
- **æ¸…æ™°çš„æ¨™ç±¤**: ä½¿ç”¨æè¿°æ€§çš„æ¨™ç±¤
- **é©ç•¶çš„æ ¼å¼**: æ ¼å¼åŒ–æ•¸æ“šä»¥æé«˜å¯è®€æ€§
- **ä¸€è‡´çš„æ¨£å¼**: ä¿æŒè¦–è¦ºä¸€è‡´æ€§

##### 5.5.3 å¯è¨ªå•æ€§
- **èªç¾©åŒ–æ¨™ç±¤**: ä½¿ç”¨é©ç•¶çš„ HTML èªç¾©
- **éµç›¤å°èˆª**: ç¢ºä¿å¯é€šééµç›¤è¨ªå•
- **å±å¹•é–±è®€å™¨**: æä¾›é©ç•¶çš„ ARIA æ¨™ç±¤

#### 5.2 åŸºç¤æ¢ç›®çµ„ä»¶

##### 5.2.1 æ–‡æœ¬æ¢ç›® (Text Entry)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- æ–‡æœ¬å…§å®¹é¡¯ç¤ºå’Œæ ¼å¼åŒ–
- æ”¯æŒå¤šç¨®æ–‡æœ¬å¤§å°å’Œæ¨£å¼
- è‡ªå‹•æ›è¡Œå’Œæˆªæ–·
- æ”¯æŒ HTML å…§å®¹
- å¯è¤‡è£½æ–‡æœ¬å…§å®¹

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Infolists\Components\TextEntry;

TextEntry::make('name')
    ->label('Full Name')
    ->size(TextEntry\TextEntrySize::Large)
    ->weight('bold')
    ->color('primary');

TextEntry::make('description')
    ->label('Description')
    ->html()
    ->markdown()
    ->prose()
    ->limit(200)
    ->copyable();

TextEntry::make('email')
    ->label('Email Address')
    ->url(fn ($state) => "mailto:{$state}")
    ->icon('heroicon-m-envelope');
```

##### 5.2.2 åœ–æ¨™æ¢ç›® (Icon Entry)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- åœ–æ¨™é¡¯ç¤ºå’Œç‹€æ…‹æŒ‡ç¤º
- æ”¯æŒå¤šç¨®åœ–æ¨™åº«
- è‡ªå®šç¾©åœ–æ¨™é¡è‰²å’Œå¤§å°
- æ¢ä»¶åœ–æ¨™é¡¯ç¤º

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Infolists\Components\IconEntry;

IconEntry::make('status')
    ->label('Status')
    ->icon(fn (string $state): string => match ($state) {
        'active' => 'heroicon-o-check-circle',
        'inactive' => 'heroicon-o-x-circle',
        'pending' => 'heroicon-o-clock',
        default => 'heroicon-o-question-mark-circle',
    })
    ->color(fn (string $state): string => match ($state) {
        'active' => 'success',
        'inactive' => 'danger',
        'pending' => 'warning',
        default => 'gray',
    })
    ->size('lg');
```

##### 5.2.3 åœ–ç‰‡æ¢ç›® (Image Entry)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- åœ–ç‰‡é¡¯ç¤ºå’Œé è¦½
- æ”¯æŒå¤šç¨®åœ–ç‰‡æ ¼å¼
- è‡ªå®šç¾©åœ–ç‰‡å¤§å°å’Œæ¨£å¼
- åœ“å½¢ã€æ–¹å½¢ç­‰å½¢ç‹€é¸é …
- é»æ“Šæ”¾å¤§åŠŸèƒ½

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Infolists\Components\ImageEntry;

ImageEntry::make('avatar')
    ->label('Profile Picture')
    ->circular()
    ->size(80)
    ->extraImgAttributes(['class' => 'object-cover']);

ImageEntry::make('banner')
    ->label('Banner Image')
    ->square()
    ->size(200)
    ->openUrlInNewTab()
    ->extraImgAttributes(['class' => 'rounded-lg shadow-md']);
```

##### 5.2.4 é¡è‰²æ¢ç›® (Color Entry)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- é¡è‰²é¡¯ç¤ºå’Œé è¦½
- æ”¯æŒå¤šç¨®é¡è‰²æ ¼å¼
- å¯è¤‡è£½é¡è‰²å€¼
- è‡ªå®šç¾©é¡è‰²é¡¯ç¤ºæ¨£å¼

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Infolists\Components\ColorEntry;

ColorEntry::make('theme_color')
    ->label('Theme Color')
    ->copyable()
    ->copyMessage('Color copied to clipboard!')
    ->size('lg');
```

##### 5.2.5 ä»£ç¢¼æ¢ç›® (Code Entry)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- ä»£ç¢¼èªæ³•é«˜äº®é¡¯ç¤º
- æ”¯æŒå¤šç¨®ç·¨ç¨‹èªè¨€
- è¡Œè™Ÿé¡¯ç¤º
- ä»£ç¢¼è¤‡è£½åŠŸèƒ½

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Infolists\Components\CodeEntry;

CodeEntry::make('custom_css')
    ->label('Custom CSS')
    ->language('css')
    ->copyable()
    ->lineNumbers();
```

##### 5.2.6 éµå€¼å°æ¢ç›® (Key Value Entry)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- éµå€¼å°æ•¸æ“šé¡¯ç¤º
- æ”¯æŒåµŒå¥—çµæ§‹
- è‡ªå®šç¾©éµå’Œå€¼æ ¼å¼
- æ¢ä»¶é¡¯ç¤º

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Infolists\Components\KeyValueEntry;

KeyValueEntry::make('metadata')
    ->label('Custom Metadata')
    ->keyLabel('Property')
    ->valueLabel('Value')
    ->columnSpanFull();
```

##### 5.2.7 å¯é‡è¤‡æ¢ç›® (Repeatable Entry)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- é‡è¤‡æ•¸æ“šçµæ§‹é¡¯ç¤º
- æ”¯æŒåˆ—è¡¨å’Œè¡¨æ ¼æ ¼å¼
- è‡ªå®šç¾©é …ç›®æ¨™ç±¤
- æ¢ä»¶é¡¯ç¤º

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Infolists\Components\RepeatableEntry;

RepeatableEntry::make('phone_numbers')
    ->label('Phone Numbers')
    ->schema([
        TextEntry::make('type')
            ->label('Type')
            ->badge(),
        TextEntry::make('number')
            ->label('Number')
            ->url(fn ($state) => "tel:{$state}"),
    ])
    ->contained(false);
```

#### 5.3 é«˜ç´šåŠŸèƒ½

##### 5.3.1 æ¢ä»¶é¡¯ç¤º
**åŸºæ–¼æ•¸æ“šæ¢ä»¶çš„å‹•æ…‹é¡¯ç¤ºï¼š**
```php
TextEntry::make('status')
    ->label('Status')
    ->visible(fn ($record) => $record->status !== 'draft')
    ->color(fn ($state) => $state === 'published' ? 'success' : 'warning');
```

##### 5.3.2 è‡ªå®šç¾©æ ¼å¼åŒ–
**æ•¸æ“šæ ¼å¼åŒ–å’Œè½‰æ›ï¼š**
```php
TextEntry::make('created_at')
    ->label('Created At')
    ->dateTime('M j, Y g:i A')
    ->timezone('UTC');

TextEntry::make('price')
    ->label('Price')
    ->money('USD')
    ->color(fn ($state) => $state > 100 ? 'success' : 'gray');
```

##### 5.3.3 é—œä¿‚æ•¸æ“šé¡¯ç¤º
**é¡¯ç¤ºé—œè¯æ¨¡å‹æ•¸æ“šï¼š**
```php
TextEntry::make('user.name')
    ->label('Created By')
    ->url(fn ($record) => route('admin.users.edit', $record->user));

TextEntry::make('category.name')
    ->label('Category')
    ->badge()
    ->color('primary');
```

##### 5.3.4 è‡ªå®šç¾©æ¢ç›® (Custom Entries)
**å‰µå»ºå®Œå…¨è‡ªå®šç¾©çš„æ¢ç›®ï¼š**
```php
use Filament\Infolists\Components\Entry;

class CustomEntry extends Entry
{
    protected string $view = 'infolists.components.custom-entry';

    public function getState(): mixed
    {
        return $this->evaluate($this->state);
    }

    protected function setUp(): void
    {
        parent::setUp();

        $this->afterStateHydrated(function ($state) {
            // è‡ªå®šç¾©ç‹€æ…‹è™•ç†é‚è¼¯
        });
    }
}
```

#### 5.4 ä½ˆå±€å’Œçµ„ç¹”

##### 5.4.1 ä½¿ç”¨ Schema çµ„ä»¶
**èˆ‡è¡¨å–®å…±äº«çš„ä½ˆå±€çµ„ä»¶ï¼š**
```php
use Filament\Infolists\Components\Section;
use Filament\Infolists\Components\Tabs;

Section::make('Personal Information')
    ->schema([
        TextEntry::make('name'),
        TextEntry::make('email'),
        TextEntry::make('phone'),
    ])
    ->columns(3);

Tabs::make('User Details')
    ->tabs([
        Tabs\Tab::make('Basic Info')
            ->schema([
                TextEntry::make('name'),
                TextEntry::make('email'),
            ]),
        Tabs\Tab::make('Address')
            ->schema([
                TextEntry::make('street'),
                TextEntry::make('city'),
                TextEntry::make('postal_code'),
            ]),
    ]);
```

##### 5.4.2 éŸ¿æ‡‰å¼è¨­è¨ˆ
**æ”¯æŒéŸ¿æ‡‰å¼ä½ˆå±€ï¼š**
```php
Grid::make()
    ->columns([
        'default' => 1,
        'md' => 2,
        'xl' => 3,
    ])
    ->schema([
        TextEntry::make('name')
            ->columnSpan([
                'default' => 1,
                'md' => 2,
            ]),
        TextEntry::make('email')
            ->columnSpan([
                'default' => 1,
                'md' => 1,
            ]),
    ]);
```

#### 5.5 æœ€ä½³å¯¦è¸

##### 5.5.1 æ€§èƒ½å„ªåŒ–
- ä½¿ç”¨é©ç•¶çš„æ•¸æ“šåŠ è¼‰ç­–ç•¥
- é¿å… N+1 æŸ¥è©¢å•é¡Œ
- åˆç†ä½¿ç”¨æ¢ä»¶é¡¯ç¤º

##### 5.5.2 ç”¨æˆ¶é«”é©—
- æä¾›æ¸…æ™°çš„æ¨™ç±¤å’Œæè¿°
- ä½¿ç”¨é©ç•¶çš„é¡è‰²å’Œåœ–æ¨™
- ç¢ºä¿éŸ¿æ‡‰å¼è¨­è¨ˆ

##### 5.5.3 å¯è¨ªå•æ€§
- æä¾›é©ç•¶çš„ ARIA æ¨™ç±¤
- ç¢ºä¿éµç›¤å°èˆªæ”¯æŒ
- ä½¿ç”¨è¶³å¤ çš„é¡è‰²å°æ¯”åº¦

### 6. æ¨¡å¼ç³»çµ± (Schemas)

#### 6.1 æ¦‚è¿°
**v4 æ–°æ¦‚å¿µï¼š**
- çµ±ä¸€çš„é é¢çµæ§‹å®šç¾©ï¼Œç”¨æ–¼è¡¨å–®ã€ä¿¡æ¯åˆ—è¡¨å’Œé é¢ä½ˆå±€
- æ”¯æŒå¤šç¨®ä½ˆå±€é¡å‹ï¼Œæä¾›éˆæ´»çš„é é¢çµ„ç¹”æ–¹å¼
- é«˜åº¦å¯è‡ªå®šç¾©ï¼Œæ”¯æŒå®Œå…¨è‡ªå®šç¾©çš„çµ„ä»¶
- åŸºæ–¼ Livewire 3 å’Œ Alpine.jsï¼Œæä¾›éŸ¿æ‡‰å¼äº¤äº’é«”é©—

#### 6.2 ä½ˆå±€çµ„ä»¶ (Layouts)

##### 6.2.1 ç¶²æ ¼ç³»çµ± (Grid System)
**éŸ¿æ‡‰å¼ç¶²æ ¼ä½ˆå±€ï¼š**
- ä½¿ç”¨ `columns()` æ–¹æ³•è¨­ç½®åˆ—æ•¸
- æ”¯æŒéŸ¿æ‡‰å¼æ–·é»ï¼š`sm`, `md`, `lg`, `xl`, `2xl`
- æ”¯æŒå®¹å™¨æŸ¥è©¢ï¼š`@sm`, `@md`, `@lg`, `@xl`, `@2xl`
- æ”¯æŒåˆ—è·¨åº¦ã€åˆ—èµ·å§‹ä½ç½®å’Œåˆ—æ’åº

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Schemas\Components\Grid;
use Filament\Forms\Components\TextInput;

Grid::make()
    ->columns([
        'default' => 1,
        'md' => 2,
        'xl' => 3,
    ])
    ->schema([
        TextInput::make('name')
            ->columnSpan([
                'default' => 1,
                'md' => 2,
            ]),
        TextInput::make('email')
            ->columnSpan([
                'default' => 1,
                'md' => 1,
            ]),
    ]);
```

##### 6.2.2 å®¹å™¨æŸ¥è©¢ (Container Queries)
**åŸºæ–¼å®¹å™¨å¤§å°çš„éŸ¿æ‡‰å¼ä½ˆå±€ï¼š**
- ä½¿ç”¨ `gridContainer()` æ–¹æ³•æ¨™è¨˜å®¹å™¨
- æ”¯æŒ `@md` (448px+), `@lg` (512px+), `@xl` (576px+) ç­‰æ–·é»
- æä¾› `!@` å‰ç¶´çš„å¾Œå‚™æ–·é»æ”¯æŒèˆŠç€è¦½å™¨

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
Grid::make()
    ->gridContainer()
    ->columns([
        '@md' => 3,
        '@xl' => 4,
        '!@md' => 2,  // å¾Œå‚™æ–·é»
        '!@xl' => 3,
    ])
    ->schema([
        TextInput::make('name')
            ->columnSpan([
                '@md' => 2,
                '@xl' => 3,
            ])
            ->columnOrder([
                'default' => 2,
                '@xl' => 1,
            ]),
    ]);
```

##### 6.2.3 åŸºç¤ä½ˆå±€çµ„ä»¶

###### 6.2.3.1 Grid çµ„ä»¶
**ç¶²æ ¼ä½ˆå±€ï¼Œæ”¯æŒå¤šåˆ—éŸ¿æ‡‰å¼è¨­è¨ˆï¼š**
- æ”¯æŒéŸ¿æ‡‰å¼æ–·é»å’Œå®¹å™¨æŸ¥è©¢
- å¯è‡ªå®šç¾©åˆ—è·¨åº¦ã€èµ·å§‹ä½ç½®å’Œæ’åº
- æ”¯æŒåµŒå¥—ç¶²æ ¼çµæ§‹

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Schemas\Components\Grid;
use Filament\Forms\Components\TextInput;

Grid::make()
    ->columns([
        'default' => 1,
        'sm' => 2,
        'md' => 3,
        'lg' => 4,
        'xl' => 6,
    ])
    ->schema([
        TextInput::make('first_name')
            ->columnSpan([
                'default' => 1,
                'md' => 2,
                'xl' => 3,
            ]),
        TextInput::make('last_name')
            ->columnSpan([
                'default' => 1,
                'md' => 1,
                'xl' => 3,
            ]),
        TextInput::make('email')
            ->columnSpan([
                'default' => 1,
                'md' => 3,
                'xl' => 6,
            ]),
    ]);
```

###### 6.2.3.2 Flex çµ„ä»¶
**å½ˆæ€§ä½ˆå±€ï¼Œæ”¯æŒ flexbox å±¬æ€§ï¼š**
- æ”¯æŒ flex æ–¹å‘ã€å°é½Šå’Œæ›è¡Œ
- å¯è‡ªå®šç¾© flex å±¬æ€§
- é©åˆè¤‡é›œçš„ä½ˆå±€éœ€æ±‚

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Schemas\Components\Flex;
use Filament\Forms\Components\TextInput;
use Filament\Forms\Components\Button;

Flex::make()
    ->direction('row')
    ->justifyContent('space-between')
    ->alignItems('center')
    ->schema([
        TextInput::make('search')
            ->placeholder('Search...')
            ->flex(1),
        Button::make('Search')
            ->type('submit'),
    ]);
```

###### 6.2.3.3 Fieldset çµ„ä»¶
**å­—æ®µé›†ï¼Œç”¨æ–¼åˆ†çµ„ç›¸é—œå­—æ®µï¼š**
- æä¾›è¦–è¦ºåˆ†çµ„å’Œé‚Šæ¡†
- æ”¯æŒæ¨™é¡Œå’Œæè¿°
- å¯è‡ªå®šç¾©åˆ—æ•¸å’Œæ¨£å¼

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Schemas\Components\Fieldset;

Fieldset::make('Personal Information')
    ->label('Personal Information')
    ->description('Enter your personal details below.')
    ->schema([
        TextInput::make('first_name'),
        TextInput::make('last_name'),
        TextInput::make('email'),
    ])
    ->columns(3)
    ->collapsible()
    ->collapsed();
```

**ç§»é™¤ Fieldset é‚Šæ¡†ï¼š**
```php
Fieldset::make('Personal Information')
    ->schema([
        TextInput::make('first_name'),
        TextInput::make('last_name'),
    ])
    ->columns(2)
    ->border(false); // ç§»é™¤é‚Šæ¡†
```

###### 6.2.3.4 Section çµ„ä»¶
**å€å¡Šï¼Œæä¾›æ¨™é¡Œå’Œæè¿°çš„å…§å®¹åˆ†çµ„ï¼š**
- æ”¯æŒæ¨™é¡Œã€æè¿°å’Œåœ–æ¨™
- å¯æŠ˜ç–Š/å±•é–‹
- æ”¯æŒè‡ªå®šç¾©æ¨£å¼

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Schemas\Components\Section;

Section::make('Personal Information')
    ->description('Enter your personal details below.')
    ->icon('heroicon-o-user')
    ->schema([
        TextInput::make('name'),
        TextInput::make('email'),
        TextInput::make('phone'),
    ])
    ->columns(3)
    ->collapsible()
    ->collapsed();
```

#### 6.2.4 ç¶²æ ¼åˆ—æ§åˆ¶

##### 6.2.4.1 åˆ—è·¨åº¦ (Column Span)
**æ§åˆ¶çµ„ä»¶è·¨è¶Šçš„åˆ—æ•¸ï¼š**
```php
TextInput::make('name')
    ->columnSpan([
        'default' => 1,  // é»˜èªè¨­å‚™
        'sm' => 2,       // å°è¨­å‚™
        'md' => 3,       // ä¸­ç­‰è¨­å‚™
        'lg' => 4,       // å¤§è¨­å‚™
        'xl' => 6,       // è¶…å¤§è¨­å‚™
    ]);
```

##### 6.2.4.2 åˆ—èµ·å§‹ä½ç½® (Column Start)
**æ§åˆ¶çµ„ä»¶é–‹å§‹çš„åˆ—ä½ç½®ï¼š**
```php
TextInput::make('name')
    ->columnStart([
        'default' => 1,
        'md' => 2,  // å¾ç¬¬2åˆ—é–‹å§‹
        'xl' => 3,  // å¾ç¬¬3åˆ—é–‹å§‹
    ]);
```

##### 6.2.4.3 åˆ—æ’åº (Column Order)
**æ§åˆ¶çµ„ä»¶çš„é¡¯ç¤ºé †åºï¼š**
```php
TextInput::make('name')
    ->columnOrder([
        'default' => 2,  // é»˜èªç¬¬2å€‹é¡¯ç¤º
        'md' => 1,       // ä¸­ç­‰è¨­å‚™ç¬¬1å€‹é¡¯ç¤º
        'xl' => 3,       // è¶…å¤§è¨­å‚™ç¬¬3å€‹é¡¯ç¤º
    ]);

TextInput::make('email')
    ->columnOrder([
        'default' => 1,  // é»˜èªç¬¬1å€‹é¡¯ç¤º
        'md' => 2,       // ä¸­ç­‰è¨­å‚™ç¬¬2å€‹é¡¯ç¤º
        'xl' => 1,       // è¶…å¤§è¨­å‚™ç¬¬1å€‹é¡¯ç¤º
    ]);
```

#### 6.2.5 éŸ¿æ‡‰å¼ç¶²æ ¼ä½ˆå±€ç¤ºä¾‹
**å®Œæ•´çš„éŸ¿æ‡‰å¼ä½ˆå±€ç¤ºä¾‹ï¼š**
```php
use Filament\Schemas\Components\Grid;
use Filament\Forms\Components\TextInput;
use Filament\Forms\Components\Select;
use Filament\Forms\Components\Textarea;

Grid::make()
    ->columns([
        'default' => 1,
        'sm' => 2,
        'md' => 3,
        'lg' => 4,
    ])
    ->schema([
        // å§“åå­—æ®µ - åœ¨å°è¨­å‚™ä¸Šä½”2åˆ—ï¼Œå¤§è¨­å‚™ä¸Šä½”2åˆ—
        TextInput::make('first_name')
            ->label('First Name')
            ->columnSpan([
                'default' => 1,
                'sm' => 2,
                'lg' => 2,
            ]),
        
        // å§“æ°å­—æ®µ - åœ¨å°è¨­å‚™ä¸Šä½”2åˆ—ï¼Œå¤§è¨­å‚™ä¸Šä½”2åˆ—
        TextInput::make('last_name')
            ->label('Last Name')
            ->columnSpan([
                'default' => 1,
                'sm' => 2,
                'lg' => 2,
            ]),
        
        // é›»å­éƒµä»¶ - åœ¨æ‰€æœ‰è¨­å‚™ä¸Šéƒ½ä½”æ»¿å¯¬åº¦
        TextInput::make('email')
            ->label('Email Address')
            ->columnSpan([
                'default' => 1,
                'sm' => 2,
                'md' => 3,
                'lg' => 4,
            ]),
        
        // é›»è©±è™Ÿç¢¼ - åœ¨ä¸­ç­‰è¨­å‚™ä¸Šä½”2åˆ—
        TextInput::make('phone')
            ->label('Phone Number')
            ->columnSpan([
                'default' => 1,
                'md' => 2,
            ]),
        
        // åœ‹å®¶é¸æ“‡ - åœ¨ä¸­ç­‰è¨­å‚™ä¸Šä½”1åˆ—
        Select::make('country')
            ->label('Country')
            ->options([
                'us' => 'United States',
                'ca' => 'Canada',
                'uk' => 'United Kingdom',
            ])
            ->columnSpan([
                'default' => 1,
                'md' => 1,
            ]),
        
        // åœ°å€ - åœ¨æ‰€æœ‰è¨­å‚™ä¸Šéƒ½ä½”æ»¿å¯¬åº¦
        Textarea::make('address')
            ->label('Address')
            ->columnSpan([
                'default' => 1,
                'sm' => 2,
                'md' => 3,
                'lg' => 4,
            ]),
    ]);
```

#### 6.2.6 å®¹å™¨æŸ¥è©¢ (Container Queries)
**åŸºæ–¼å®¹å™¨å¤§å°çš„éŸ¿æ‡‰å¼ä½ˆå±€ï¼š**

##### 6.2.6.1 åŸºæœ¬å®¹å™¨æŸ¥è©¢
```php
Grid::make()
    ->gridContainer()  // æ¨™è¨˜ç‚ºå®¹å™¨
    ->columns([
        '@sm' => 2,   // å®¹å™¨å¯¬åº¦ â‰¥ 384px
        '@md' => 3,   // å®¹å™¨å¯¬åº¦ â‰¥ 448px
        '@lg' => 4,   // å®¹å™¨å¯¬åº¦ â‰¥ 512px
        '@xl' => 6,   // å®¹å™¨å¯¬åº¦ â‰¥ 576px
    ])
    ->schema([
        TextInput::make('name')
            ->columnSpan([
                '@md' => 2,
                '@xl' => 3,
            ]),
        TextInput::make('email')
            ->columnSpan([
                '@md' => 1,
                '@xl' => 3,
            ]),
    ]);
```

##### 6.2.6.2 å®¹å™¨æŸ¥è©¢èˆ‡åˆ—æ’åº
```php
Grid::make()
    ->gridContainer()
    ->columns([
        '@md' => 3,
        '@xl' => 4,
    ])
    ->schema([
        TextInput::make('name')
            ->columnSpan([
                '@md' => 2,
                '@xl' => 3,
            ])
            ->columnOrder([
                'default' => 2,  // é»˜èªç¬¬2å€‹
                '@xl' => 1,      // è¶…å¤§å®¹å™¨ç¬¬1å€‹
            ]),
        TextInput::make('email')
            ->columnSpan([
                'default' => 1,
                '@xl' => 1,
            ])
            ->columnOrder([
                'default' => 1,  // é»˜èªç¬¬1å€‹
                '@xl' => 2,      // è¶…å¤§å®¹å™¨ç¬¬2å€‹
            ]),
    ]);
```

##### 6.2.6.3 å¾Œå‚™æ–·é»æ”¯æŒèˆŠç€è¦½å™¨
```php
Grid::make()
    ->gridContainer()
    ->columns([
        '@md' => 3,    // å®¹å™¨æŸ¥è©¢
        '@xl' => 4,    // å®¹å™¨æŸ¥è©¢
        '!@md' => 2,   // å¾Œå‚™æ–·é»
        '!@xl' => 3,   // å¾Œå‚™æ–·é»
    ])
    ->schema([
        TextInput::make('name')
            ->columnSpan([
                '@md' => 2,
                '@xl' => 3,
                '!@md' => 2,
                '!@xl' => 2,
            ])
            ->columnOrder([
                'default' => 2,
                '@xl' => 1,
                '!@xl' => 1,
            ]),
        TextInput::make('email')
            ->columnOrder([
                'default' => 1,
                '@xl' => 2,
                '!@xl' => 2,
            ]),
    ]);
```

#### 6.2.7 æ·»åŠ é¡å¤– HTML å±¬æ€§
**ç‚ºä½ˆå±€çµ„ä»¶æ·»åŠ è‡ªå®šç¾©å±¬æ€§ï¼š**

##### 6.2.7.1 éœæ…‹å±¬æ€§
```php
Section::make('Personal Information')
    ->extraAttributes([
        'class' => 'custom-section-style',
        'data-testid' => 'personal-info-section',
    ])
    ->schema([
        TextInput::make('name'),
        TextInput::make('email'),
    ]);
```

##### 6.2.7.2 å‹•æ…‹å±¬æ€§
```php
Section::make('Dynamic Section')
    ->extraAttributes(function ($get, $operation, $record) {
        return [
            'class' => $operation === 'create' ? 'create-mode' : 'edit-mode',
            'data-user-id' => $record?->id,
            'data-operation' => $operation,
        ];
    })
    ->schema([
        TextInput::make('name'),
        TextInput::make('email'),
    ]);
```

##### 6.2.7.3 åˆä½µå±¬æ€§
```php
Section::make('Merged Section')
    ->extraAttributes(['class' => 'base-style'])
    ->extraAttributes(['class' => 'additional-style'], merge: true)
    ->schema([
        TextInput::make('name'),
        TextInput::make('email'),
    ]);
```

#### 6.2.8 ä½ˆå±€æœ€ä½³å¯¦è¸

##### 6.2.8.1 éŸ¿æ‡‰å¼è¨­è¨ˆåŸå‰‡
- **ç§»å‹•å„ªå…ˆ**: å¾æœ€å°å±å¹•é–‹å§‹è¨­è¨ˆ
- **æ¼¸é€²å¢å¼·**: ç‚ºå¤§å±å¹•æ·»åŠ æ›´å¤šåˆ—
- **ä¸€è‡´æ€§**: ä¿æŒè·¨è¨­å‚™çš„è¦–è¦ºä¸€è‡´æ€§
- **å¯è®€æ€§**: ç¢ºä¿æ–‡æœ¬åœ¨å°å±å¹•ä¸Šä»ç„¶å¯è®€

##### 6.2.8.2 æ€§èƒ½å„ªåŒ–
- **é¿å…éåº¦åµŒå¥—**: é™åˆ¶ç¶²æ ¼åµŒå¥—æ·±åº¦
- **åˆç†ä½¿ç”¨åˆ—æ•¸**: é¿å…åœ¨å°å±å¹•ä¸Šä½¿ç”¨éå¤šåˆ—
- **æ¢ä»¶æ¸²æŸ“**: ä½¿ç”¨æ¢ä»¶é¡¯ç¤ºæ¸›å°‘ä¸å¿…è¦çš„çµ„ä»¶

##### 6.2.8.3 å¯è¨ªå•æ€§
- **éµç›¤å°èˆª**: ç¢ºä¿æ‰€æœ‰çµ„ä»¶éƒ½å¯ä»¥é€šééµç›¤è¨ªå•
- **å±å¹•é–±è®€å™¨**: æä¾›é©ç•¶çš„ ARIA æ¨™ç±¤
- **é¡è‰²å°æ¯”**: ç¢ºä¿è¶³å¤ çš„é¡è‰²å°æ¯”åº¦

##### 6.2.8.4 ä»£ç¢¼çµ„ç¹”
- **é‚è¼¯åˆ†çµ„**: å°‡ç›¸é—œå­—æ®µçµ„ç¹”åœ¨ä¸€èµ·
- **å‘½åç´„å®š**: ä½¿ç”¨ä¸€è‡´çš„å‘½åç´„å®š
- **è¨»é‡‹**: ç‚ºè¤‡é›œä½ˆå±€æ·»åŠ è¨»é‡‹

#### 6.3 å€å¡Šçµ„ä»¶ (Sections)
**å…§å®¹åˆ†çµ„å’Œçµ„ç¹”ï¼š**
- æä¾›æ¨™é¡Œã€æè¿°å’Œåœ–æ¨™
- æ”¯æŒæŠ˜ç–Š/å±•é–‹åŠŸèƒ½
- å¯è‡ªå®šç¾©æ¨£å¼å’Œè¡Œç‚º
- æ”¯æŒæ¢ä»¶é¡¯ç¤º

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Schemas\Components\Section;

Section::make('Personal Information')
    ->description('Enter your personal details below.')
    ->icon('heroicon-o-user')
    ->schema([
        TextInput::make('name'),
        TextInput::make('email'),
        TextInput::make('phone'),
    ])
    ->collapsible()
    ->collapsed();
```

#### 6.4 æ¨™ç±¤çµ„ä»¶ (Tabs)
**æ¨™ç±¤å¼å°èˆªå’Œå…§å®¹çµ„ç¹”ï¼š**
- æ”¯æŒæ°´å¹³ã€å‚ç›´å’Œåœ–æ¨™æ¨™ç±¤
- å¯è‡ªå®šç¾©æ¨™ç±¤æ¨£å¼å’Œè¡Œç‚º
- æ”¯æŒæ¢ä»¶æ¨™ç±¤é¡¯ç¤º
- æ”¯æŒæ¨™ç±¤å…§å®¹çš„å‹•æ…‹åŠ è¼‰

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Schemas\Components\Tabs;

Tabs::make('User Information')
    ->tabs([
        Tabs\Tab::make('Personal')
            ->icon('heroicon-o-user')
            ->schema([
                TextInput::make('name'),
                TextInput::make('email'),
            ]),
        Tabs\Tab::make('Address')
            ->icon('heroicon-o-map-pin')
            ->schema([
                TextInput::make('street'),
                TextInput::make('city'),
                TextInput::make('postal_code'),
            ]),
        Tabs\Tab::make('Settings')
            ->icon('heroicon-o-cog-6-tooth')
            ->schema([
                Toggle::make('notifications'),
                Toggle::make('newsletter'),
            ]),
    ]);
```

#### 6.5 åš®å°çµ„ä»¶ (Wizards)
**æ­¥é©Ÿå¼è¡¨å–®å’Œæµç¨‹ï¼š**
- æ”¯æŒå¤šæ­¥é©Ÿè¡¨å–®
- å¯è‡ªå®šç¾©æ­¥é©Ÿé©—è­‰
- æ”¯æŒæ­¥é©Ÿé–“çš„æ•¸æ“šæŒä¹…åŒ–
- æä¾›é€²åº¦æŒ‡ç¤ºå™¨

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Schemas\Components\Wizard;

Wizard::make([
    Wizard\Step::make('Personal Information')
        ->schema([
            TextInput::make('name'),
            TextInput::make('email'),
        ])
        ->validation([
            'name' => 'required|min:2',
            'email' => 'required|email',
        ]),
    Wizard\Step::make('Address')
        ->schema([
            TextInput::make('street'),
            TextInput::make('city'),
        ]),
    Wizard\Step::make('Review')
        ->schema([
            // åªè®€å­—æ®µé¡¯ç¤º
        ]),
]);
```

#### 6.6 æ ¸å¿ƒçµ„ä»¶ (Prime Components)
**åŸºç¤ UI çµ„ä»¶ï¼š**
- **Text**: æ–‡æœ¬é¡¯ç¤ºçµ„ä»¶
- **Image**: åœ–ç‰‡é¡¯ç¤ºçµ„ä»¶
- **Icon**: åœ–æ¨™é¡¯ç¤ºçµ„ä»¶
- **Badge**: å¾½ç« çµ„ä»¶
- **Button**: æŒ‰éˆ•çµ„ä»¶
- **Link**: éˆæ¥çµ„ä»¶

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Schemas\Components\Text;
use Filament\Schemas\Components\Image;
use Filament\Schemas\Components\Badge;

Text::make('Welcome to our platform!')
    ->size('lg')
    ->weight('bold');

Image::make('logo')
    ->src('/images/logo.png')
    ->alt('Company Logo');

Badge::make('status')
    ->color('success')
    ->label('Active');
```

#### 6.7 è‡ªå®šç¾©çµ„ä»¶ (Custom Components)
**å®Œå…¨è‡ªå®šç¾©çš„çµ„ä»¶ï¼š**
- ç¹¼æ‰¿ `Filament\Schemas\Components\Component`
- æ”¯æŒè‡ªå®šç¾©æ¸²æŸ“é‚è¼¯
- å¯æ³¨å…¥å„ç¨®å¯¦ç”¨å·¥å…·
- æ”¯æŒéŸ¿æ‡‰å¼è¨­è¨ˆ

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Schemas\Components\Component;

class CustomComponent extends Component
{
    public static function make(): static
    {
        return app(static::class);
    }

    public function render(): View
    {
        return view('components.custom-component');
    }
}
```

#### 6.8 å¯¦ç”¨å·¥å…·æ³¨å…¥
**å¯æ³¨å…¥çš„å¯¦ç”¨å·¥å…·ï¼š**
- **$component**: ç•¶å‰çµ„ä»¶å¯¦ä¾‹
- **$get**: ç²å–æ¨¡å¼æ•¸æ“šçš„å‡½æ•¸
- **$livewire**: Livewire çµ„ä»¶å¯¦ä¾‹
- **$model**: Eloquent æ¨¡å‹ FQN
- **$operation**: ç•¶å‰æ“ä½œ (create, edit, view)
- **$record**: Eloquent è¨˜éŒ„å¯¦ä¾‹

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
Section::make('Dynamic Content')
    ->schema([
        TextInput::make('title')
            ->visible(fn ($get, $operation, $record) => 
                $operation === 'create' || $record?->status === 'draft'
            ),
    ]);
```

### 7. æ“ä½œç³»çµ± (Actions)

#### 7.1 æ¦‚è¿°
**v4 æ“ä½œç³»çµ±ç‰¹é»ï¼š**
- æ”¯æŒå¤šç¨®æ“ä½œé¡å‹å’Œè§¸ç™¼æ–¹å¼
- æ¨¡æ…‹æ¡†å’Œå…¨é é¢æ“ä½œæ”¯æŒ
- æ“ä½œåˆ†çµ„å’Œçµ„ç¹”åŠŸèƒ½
- é«˜åº¦å¯è‡ªå®šç¾©çš„æ“ä½œé‚è¼¯
- æ”¯æŒæ‰¹é‡æ“ä½œå’Œå–®å€‹è¨˜éŒ„æ“ä½œ
- å¯¦æ™‚åé¥‹å’Œé€šçŸ¥ç³»çµ±

#### 7.2 åŸºç¤æ“ä½œé¡å‹

##### 7.2.1 å‰µå»ºæ“ä½œ (Create Action)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- å‰µå»ºæ–°è¨˜éŒ„çš„è¡¨å–®æ“ä½œ
- æ”¯æŒè‡ªå®šç¾©è¡¨å–®å’Œé©—è­‰
- å¯è‡ªå®šç¾©é‡å®šå‘å’Œé€šçŸ¥
- æ”¯æŒå‰µå»ºå¾Œçš„æ“ä½œéˆ

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Actions\CreateAction;

CreateAction::make()
    ->label('Create New User')
    ->icon('heroicon-o-plus')
    ->form([
        TextInput::make('name')->required(),
        TextInput::make('email')->email()->required(),
        Select::make('role')->options([
            'admin' => 'Administrator',
            'user' => 'User',
        ])->required(),
    ])
    ->action(function (array $data) {
        $user = User::create($data);
        
        // ç™¼é€æ­¡è¿éƒµä»¶
        Mail::to($user->email)->send(new WelcomeMail($user));
        
        return $user;
    })
    ->successNotification(
        Notification::make()
            ->success()
            ->title('User created successfully')
            ->body('The user has been created and a welcome email has been sent.')
    )
    ->after(function ($record) {
        // å‰µå»ºå¾Œçš„æ“ä½œ
        activity()->log("Created user: {$record->name}");
    });
```

##### 7.2.2 ç·¨è¼¯æ“ä½œ (Edit Action)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- ç·¨è¼¯ç¾æœ‰è¨˜éŒ„çš„è¡¨å–®æ“ä½œ
- æ”¯æŒè‡ªå®šç¾©è¡¨å–®å’Œé©—è­‰
- å¯è‡ªå®šç¾©ä¿å­˜é‚è¼¯
- æ”¯æŒç·¨è¼¯å¾Œçš„æ“ä½œ

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Actions\EditAction;

EditAction::make()
    ->label('Edit User')
    ->icon('heroicon-o-pencil')
    ->form([
        TextInput::make('name')->required(),
        TextInput::make('email')->email()->required(),
        Select::make('role')->options([
            'admin' => 'Administrator',
            'user' => 'User',
        ])->required(),
    ])
    ->action(function (array $data, $record) {
        $record->update($data);
        
        // è¨˜éŒ„è®Šæ›´
        activity()->log("Updated user: {$record->name}");
        
        return $record;
    })
    ->successNotification(
        Notification::make()
            ->success()
            ->title('User updated successfully')
            ->body('The user information has been updated.')
    );
```

##### 7.2.3 æŸ¥çœ‹æ“ä½œ (View Action)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- åªè®€è¨˜éŒ„é¡¯ç¤ºæ“ä½œ
- ä½¿ç”¨ Infolist çµ„ä»¶é¡¯ç¤ºæ•¸æ“š
- æ”¯æŒè‡ªå®šç¾©ä½ˆå±€å’Œæ¨£å¼
- å¯æ·»åŠ è‡ªå®šç¾©æ“ä½œæŒ‰éˆ•

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Actions\ViewAction;

ViewAction::make()
    ->label('View Details')
    ->icon('heroicon-o-eye')
    ->infolist([
        TextEntry::make('name')->label('Full Name'),
        TextEntry::make('email')->label('Email Address'),
        TextEntry::make('role')->label('Role')->badge(),
        TextEntry::make('created_at')->label('Created At')->dateTime(),
    ])
    ->modalHeading('User Details')
    ->modalDescription('View detailed information about this user.')
    ->modalSubmitAction(false) // éš±è—æäº¤æŒ‰éˆ•
    ->modalCancelActionLabel('Close');
```

##### 7.2.4 åˆªé™¤æ“ä½œ (Delete Action)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- åˆªé™¤è¨˜éŒ„çš„ç¢ºèªæ“ä½œ
- æ”¯æŒè»Ÿåˆªé™¤å’Œç¡¬åˆªé™¤
- å¯è‡ªå®šç¾©åˆªé™¤é‚è¼¯
- æ”¯æŒæ‰¹é‡åˆªé™¤

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Actions\DeleteAction;

DeleteAction::make()
    ->label('Delete User')
    ->icon('heroicon-o-trash')
    ->color('danger')
    ->requiresConfirmation()
    ->modalHeading('Delete User')
    ->modalDescription('Are you sure you want to delete this user? This action cannot be undone.')
    ->modalSubmitActionLabel('Yes, delete user')
    ->action(function ($record) {
        // è‡ªå®šç¾©åˆªé™¤é‚è¼¯
        if ($record->hasActiveOrders()) {
            throw new \Exception('Cannot delete user with active orders.');
        }
        
        $record->delete();
        
        // è¨˜éŒ„åˆªé™¤æ“ä½œ
        activity()->log("Deleted user: {$record->name}");
    })
    ->successNotification(
        Notification::make()
            ->success()
            ->title('User deleted successfully')
            ->body('The user has been permanently deleted.')
    );
```

##### 7.2.5 è¤‡è£½æ“ä½œ (Replicate Action)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- è¤‡è£½ç¾æœ‰è¨˜éŒ„
- æ”¯æŒè‡ªå®šç¾©è¤‡è£½é‚è¼¯
- å¯é¸æ“‡è¦è¤‡è£½çš„å­—æ®µ
- æ”¯æŒé—œä¿‚æ•¸æ“šè¤‡è£½

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Actions\ReplicateAction;

ReplicateAction::make()
    ->label('Duplicate User')
    ->icon('heroicon-o-document-duplicate')
    ->form([
        TextInput::make('name')->required(),
        TextInput::make('email')->email()->required(),
        Checkbox::make('copy_permissions')->label('Copy user permissions'),
    ])
    ->action(function (array $data, $record) {
        $newUser = $record->replicate();
        $newUser->name = $data['name'];
        $newUser->email = $data['email'];
        $newUser->save();
        
        // è¤‡è£½æ¬Šé™
        if ($data['copy_permissions']) {
            $newUser->permissions()->attach($record->permissions);
        }
        
        return $newUser;
    })
    ->successNotification(
        Notification::make()
            ->success()
            ->title('User duplicated successfully')
            ->body('A new user has been created based on the original.')
    );
```

##### 7.2.6 å¼·åˆ¶åˆªé™¤æ“ä½œ (Force Delete Action)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- æ°¸ä¹…åˆªé™¤è»Ÿåˆªé™¤çš„è¨˜éŒ„
- ç¹éè»Ÿåˆªé™¤ä¿è­·
- æ”¯æŒæ‰¹é‡å¼·åˆ¶åˆªé™¤
- å¯è‡ªå®šç¾©åˆªé™¤é‚è¼¯

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Actions\ForceDeleteAction;

ForceDeleteAction::make()
    ->label('Permanently Delete')
    ->icon('heroicon-o-trash')
    ->color('danger')
    ->requiresConfirmation()
    ->modalHeading('Permanently Delete User')
    ->modalDescription('This will permanently delete the user and all associated data. This action cannot be undone.')
    ->modalSubmitActionLabel('Yes, permanently delete')
    ->visible(fn ($record) => $record->trashed())
    ->action(function ($record) {
        $record->forceDelete();
        
        activity()->log("Permanently deleted user: {$record->name}");
    });
```

##### 7.2.7 æ¢å¾©æ“ä½œ (Restore Action)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- æ¢å¾©è»Ÿåˆªé™¤çš„è¨˜éŒ„
- æ”¯æŒæ‰¹é‡æ¢å¾©
- å¯è‡ªå®šç¾©æ¢å¾©é‚è¼¯
- è‡ªå‹•è™•ç†æ™‚é–“æˆ³

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Actions\RestoreAction;

RestoreAction::make()
    ->label('Restore User')
    ->icon('heroicon-o-arrow-path')
    ->color('success')
    ->visible(fn ($record) => $record->trashed())
    ->action(function ($record) {
        $record->restore();
        
        activity()->log("Restored user: {$record->name}");
    })
    ->successNotification(
        Notification::make()
            ->success()
            ->title('User restored successfully')
            ->body('The user has been restored and is now active again.')
    );
```

##### 7.2.8 å°å…¥æ“ä½œ (Import Action)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- æ‰¹é‡å°å…¥è¨˜éŒ„
- æ”¯æŒå¤šç¨®æ–‡ä»¶æ ¼å¼
- å¯è‡ªå®šç¾©å°å…¥é‚è¼¯
- éŒ¯èª¤è™•ç†å’Œå ±å‘Š

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Actions\ImportAction;

ImportAction::make()
    ->label('Import Users')
    ->icon('heroicon-o-arrow-up-tray')
    ->form([
        FileUpload::make('file')
            ->label('CSV File')
            ->acceptedFileTypes(['text/csv'])
            ->required(),
        Checkbox::make('skip_duplicates')
            ->label('Skip duplicate emails')
            ->default(true),
    ])
    ->action(function (array $data) {
        $file = $data['file'];
        $skipDuplicates = $data['skip_duplicates'];
        
        $imported = 0;
        $skipped = 0;
        
        foreach (Csv::fromFile($file) as $row) {
            if ($skipDuplicates && User::where('email', $row['email'])->exists()) {
                $skipped++;
                continue;
            }
            
            User::create([
                'name' => $row['name'],
                'email' => $row['email'],
                'role' => $row['role'] ?? 'user',
            ]);
            
            $imported++;
        }
        
        return [
            'imported' => $imported,
            'skipped' => $skipped,
        ];
    })
    ->successNotification(
        Notification::make()
            ->success()
            ->title('Import completed')
            ->body(fn ($data) => "Imported {$data['imported']} users, skipped {$data['skipped']} duplicates.")
    );
```

##### 7.2.9 å°å‡ºæ“ä½œ (Export Action)
**åŠŸèƒ½ç‰¹æ€§ï¼š**
- æ‰¹é‡å°å‡ºè¨˜éŒ„
- æ”¯æŒå¤šç¨®æ–‡ä»¶æ ¼å¼
- å¯è‡ªå®šç¾©å°å‡ºå­—æ®µ
- éæ¿¾å’Œæ’åºæ”¯æŒ

**ç¤ºä¾‹ä»£ç¢¼ï¼š**
```php
use Filament\Actions\ExportAction;

ExportAction::make()
    ->label('Export Users')
    ->icon('heroicon-o-arrow-down-tray')
    ->form([
        Select::make('format')
            ->options([
                'csv' => 'CSV',
                'xlsx' => 'Excel',
                'json' => 'JSON',
            ])
            ->default('csv')
            ->required(),
        CheckboxList::make('fields')
            ->options([
                'name' => 'Name',
                'email' => 'Email',
                'role' => 'Role',
                'created_at' => 'Created At',
            ])
            ->default(['name', 'email', 'role'])
            ->required(),
    ])
    ->action(function (array $data) {
        $users = User::select($data['fields'])->get();
        
        return match ($data['format']) {
            'csv' => $users->toCsv(),
            'xlsx' => $users->toExcel(),
            'json' => $users->toJson(),
        };
    })
    ->successNotification(
        Notification::make()
            ->success()
            ->title('Export completed')
            ->body('Your file has been generated and is ready for download.')
    );
```

#### 7.3 é«˜ç´šåŠŸèƒ½

##### 7.3.1 æ“ä½œåˆ†çµ„ (Action Groups)
**çµ„ç¹”ç›¸é—œæ“ä½œï¼š**
```php
use Filament\Actions\ActionGroup;

ActionGroup::make([
    ViewAction::make(),
    EditAction::make(),
    DeleteAction::make(),
])
    ->label('Actions')
    ->icon('heroicon-m-ellipsis-vertical')
    ->color('gray')
    ->dropdownPlacement('bottom-end');
```

##### 7.3.2 æ‰¹é‡æ“ä½œ (Bulk Actions)
**å°å¤šå€‹è¨˜éŒ„åŸ·è¡Œæ“ä½œï¼š**
```php
use Filament\Actions\BulkActionGroup;
use Filament\Actions\BulkAction;

BulkActionGroup::make([
    BulkAction::make('activate')
        ->label('Activate Selected')
        ->icon('heroicon-o-check-circle')
        ->color('success')
        ->action(function ($records) {
            $records->each->update(['is_active' => true]);
        }),
    BulkAction::make('deactivate')
        ->label('Deactivate Selected')
        ->icon('heroicon-o-x-circle')
        ->color('danger')
        ->action(function ($records) {
            $records->each->update(['is_active' => false]);
        }),
    BulkAction::make('delete')
        ->label('Delete Selected')
        ->icon('heroicon-o-trash')
        ->color('danger')
        ->requiresConfirmation()
        ->action(function ($records) {
            $records->each->delete();
        }),
]);
```

##### 7.3.3 æ¢ä»¶æ“ä½œ (Conditional Actions)
**åŸºæ–¼è¨˜éŒ„ç‹€æ…‹é¡¯ç¤ºæ“ä½œï¼š**
```php
EditAction::make()
    ->visible(fn ($record) => $record->status !== 'archived')
    ->disabled(fn ($record) => $record->is_locked);

DeleteAction::make()
    ->visible(fn ($record) => auth()->user()->can('delete', $record))
    ->requiresConfirmation(fn ($record) => $record->has_important_data);
```

##### 7.3.4 è‡ªå®šç¾©æ“ä½œ (Custom Actions)
**å‰µå»ºå®Œå…¨è‡ªå®šç¾©çš„æ“ä½œï¼š**
```php
use Filament\Actions\Action;

Action::make('send_notification')
    ->label('Send Notification')
    ->icon('heroicon-o-bell')
    ->color('warning')
    ->form([
        TextInput::make('subject')->required(),
        Textarea::make('message')->required(),
    ])
    ->action(function (array $data, $record) {
        $record->notify(new CustomNotification($data['subject'], $data['message']));
    })
    ->successNotification(
        Notification::make()
            ->success()
            ->title('Notification sent')
            ->body('The notification has been sent successfully.')
    );
```

#### 7.4 æœ€ä½³å¯¦è¸

##### 7.4.1 æ€§èƒ½å„ªåŒ–
- ä½¿ç”¨é©ç•¶çš„æ•¸æ“šåº«æŸ¥è©¢
- é¿å… N+1 æŸ¥è©¢å•é¡Œ
- åˆç†ä½¿ç”¨æ‰¹é‡æ“ä½œ

##### 7.4.2 ç”¨æˆ¶é«”é©—
- æä¾›æ¸…æ™°çš„ç¢ºèªå°è©±æ¡†
- ä½¿ç”¨é©ç•¶çš„åœ–æ¨™å’Œé¡è‰²
- æä¾›è©³ç´°çš„æˆåŠŸ/éŒ¯èª¤æ¶ˆæ¯

##### 7.4.3 å®‰å…¨æ€§
- å¯¦æ–½é©ç•¶çš„æ¬Šé™æª¢æŸ¥
- é©—è­‰æ‰€æœ‰ç”¨æˆ¶è¼¸å…¥
- è¨˜éŒ„é‡è¦æ“ä½œ

### 8. é€šçŸ¥ç³»çµ± (Notifications)

#### 8.1 æ¦‚è¿°
**v4 æ–°åŠŸèƒ½ï¼š**
- **æ•¸æ“šåº«é€šçŸ¥**: æŒä¹…åŒ–é€šçŸ¥å­˜å„²
- **å»£æ’­é€šçŸ¥**: å¯¦æ™‚é€šçŸ¥æ¨é€
- æ”¯æŒå¤šç¨®é€šçŸ¥é¡å‹

#### 8.2 é€šçŸ¥é¡å‹
- æˆåŠŸé€šçŸ¥
- éŒ¯èª¤é€šçŸ¥
- è­¦å‘Šé€šçŸ¥
- ä¿¡æ¯é€šçŸ¥

### 9. å°éƒ¨ä»¶ç³»çµ± (Widgets)

#### 9.1 æ¦‚è¿°
**v4 å¢å¼·åŠŸèƒ½ï¼š**
- **çµ±è¨ˆæ¦‚è¦½å°éƒ¨ä»¶**: æ•¸å­—çµ±è¨ˆé¡¯ç¤º
- **åœ–è¡¨å°éƒ¨ä»¶**: å„ç¨®åœ–è¡¨é¡å‹
- å®Œå…¨è‡ªå®šç¾©çš„å°éƒ¨ä»¶æ”¯æŒ

#### 9.2 å°éƒ¨ä»¶é¡å‹
- **Stats Overview Widget**: çµ±è¨ˆæ¦‚è¦½
- **Chart Widget**: åœ–è¡¨å°éƒ¨ä»¶
- **Custom Widget**: è‡ªå®šç¾©å°éƒ¨ä»¶

### 10. å°èˆªç³»çµ± (Navigation)

#### 10.1 æ¦‚è¿°
**v4 æ–°åŠŸèƒ½ï¼š**
- **è‡ªå®šç¾©é é¢**: å®Œå…¨è‡ªå®šç¾©çš„é é¢
- **ç”¨æˆ¶èœå–®**: å¯è‡ªå®šç¾©çš„ç”¨æˆ¶ä¸‹æ‹‰èœå–®
- **é›†ç¾¤**: ç›¸é—œé é¢çš„åˆ†çµ„

### 11. ç”¨æˆ¶ç®¡ç† (Users)

#### 11.1 æ¦‚è¿°
**v4 å¢å¼·åŠŸèƒ½ï¼š**
- **å¤šå› ç´ èªè­‰**: æ”¯æŒ 2FA
- **å¤šç§Ÿæˆ¶**: æ”¯æŒå¤šç§Ÿæˆ¶æ¶æ§‹

### 12. æ¨£å¼è‡ªå®šç¾©

#### 12.1 CSS Hooks
- æä¾›æ¨™æº–åŒ–çš„ CSS é¡å
- æ”¯æŒæ·±è‰²æ¨¡å¼
- éŸ¿æ‡‰å¼è¨­è¨ˆæ”¯æŒ

#### 12.2 é¡è‰²ç³»çµ±
- å¯è‡ªå®šç¾©çš„ä¸»é¡Œé¡è‰²
- æ”¯æŒ CSS è®Šé‡
- ä¸€è‡´çš„é¡è‰²å‘½åè¦ç¯„

#### 12.3 åœ–æ¨™ç³»çµ±
- æ”¯æŒå¤šç¨®åœ–æ¨™åº«
- å¯è‡ªå®šç¾©åœ–æ¨™
- ä¸€è‡´çš„åœ–æ¨™ä½¿ç”¨è¦ç¯„

### 13. é«˜ç´šåŠŸèƒ½

#### 13.1 æ¸²æŸ“é‰¤å­ (Render Hooks)
- è‡ªå®šç¾©çµ„ä»¶æ¸²æŸ“é»
- éˆæ´»çš„å…§å®¹æ³¨å…¥
- å¼·å¤§çš„æ“´å±•èƒ½åŠ›

#### 13.2 è³‡æºè¨»å†Š
- è‡ªå‹•è³‡æºç™¼ç¾
- æ‰‹å‹•è³‡æºè¨»å†Š
- æ¢ä»¶è³‡æºé¡¯ç¤º

#### 13.3 æ–‡ä»¶ç”Ÿæˆ
- è‡ªå‹•ç”Ÿæˆè³‡æºæ–‡ä»¶
- è‡ªå®šç¾©ç”Ÿæˆå™¨
- æ‰¹é‡æ–‡ä»¶æ“ä½œ

### 14. æ¸¬è©¦

#### 14.1 æ¸¬è©¦è³‡æº
- è³‡æºåŠŸèƒ½æ¸¬è©¦
- è¡¨å–®é©—è­‰æ¸¬è©¦
- æ“ä½œæ¸¬è©¦

#### 14.2 æ¸¬è©¦è¡¨æ ¼
- åˆ—æ¸¬è©¦
- éæ¿¾å™¨æ¸¬è©¦
- æ“ä½œæ¸¬è©¦

#### 14.3 æ¸¬è©¦æ¨¡å¼
- è¡¨å–®æ¸¬è©¦
- é©—è­‰æ¸¬è©¦
- è‡ªå®šç¾©çµ„ä»¶æ¸¬è©¦

### 15. æ’ä»¶ç³»çµ±

#### 15.1 æ’ä»¶é–‹ç™¼
- é¢æ¿æ’ä»¶
- ç¨ç«‹æ’ä»¶
- æ’ä»¶å¸‚å ´

#### 15.2 æ§‹å»ºæ’ä»¶
- æ’ä»¶çµæ§‹
- è³‡æºè¨»å†Š
- è³‡ç”¢ç®¡ç†

### 16. çµ„ä»¶åº«

#### 16.1 Blade çµ„ä»¶
- Avatar (é ­åƒ)
- Badge (å¾½ç« )
- Breadcrumbs (éºµåŒ…å±‘)
- Button (æŒ‰éˆ•)
- Checkbox (è¤‡é¸æ¡†)
- Dropdown (ä¸‹æ‹‰èœå–®)
- Fieldset (å­—æ®µé›†)
- Icon button (åœ–æ¨™æŒ‰éˆ•)
- Input wrapper (è¼¸å…¥åŒ…è£å™¨)
- Input (è¼¸å…¥æ¡†)
- Link (éˆæ¥)
- Loading indicator (åŠ è¼‰æŒ‡ç¤ºå™¨)
- Modal (æ¨¡æ…‹æ¡†)
- Pagination (åˆ†é )
- Section (å€å¡Š)
- Select (é¸æ“‡å™¨)
- Tabs (æ¨™ç±¤é )

#### 16.2 çµ„ä»¶æ¸²æŸ“
- åœ¨ Livewire çµ„ä»¶ä¸­æ¸²æŸ“æ“ä½œ
- åœ¨ Blade è¦–åœ–ä¸­æ¸²æŸ“è¡¨å–®
- åœ¨ Blade è¦–åœ–ä¸­æ¸²æŸ“ä¿¡æ¯åˆ—è¡¨
- åœ¨é¢æ¿å¤–æ¸²æŸ“é€šçŸ¥
- åœ¨ Blade è¦–åœ–ä¸­æ¸²æŸ“æ¨¡å¼
- åœ¨ Blade è¦–åœ–ä¸­æ¸²æŸ“è¡¨æ ¼
- åœ¨ Blade è¦–åœ–ä¸­æ¸²æŸ“å°éƒ¨ä»¶

### 17. ç”Ÿç”¢éƒ¨ç½²

#### 17.1 æ€§èƒ½å„ªåŒ–
- è³‡æºå£“ç¸®
- ç·©å­˜ç­–ç•¥
- æ•¸æ“šåº«å„ªåŒ–

#### 17.2 å®‰å…¨è€ƒæ…®
- èªè­‰é…ç½®
- æ¬Šé™ç®¡ç†
- æ•¸æ“šé©—è­‰

### 18. å‡ç´šæŒ‡å—

#### 18.1 å¾ v3 å‡ç´š
- ä¸»è¦è®ŠåŒ–æ¦‚è¿°
- é·ç§»æ­¥é©Ÿ
- å¸¸è¦‹å•é¡Œè§£æ±º

#### 18.2 å…¼å®¹æ€§
- PHP ç‰ˆæœ¬è¦æ±‚
- Laravel ç‰ˆæœ¬è¦æ±‚
- ç€è¦½å™¨æ”¯æŒ

## å®‰è£å’Œé…ç½®

### åŸºæœ¬å®‰è£
```bash
composer require filament/filament:"^4.0"
php artisan filament:install --panels
```

### å‰µå»ºé¢æ¿
```bash
php artisan make:filament-panel admin
```

### å‰µå»ºè³‡æº
```bash
php artisan make:filament-resource User
```

### å‰µå»ºå°éƒ¨ä»¶
```bash
php artisan make:filament-widget StatsOverview
```

## æœ€ä½³å¯¦è¸

### 1. ä»£ç¢¼çµ„ç¹”
- ä½¿ç”¨é©ç•¶çš„å‘½åç©ºé–“
- éµå¾ª PSR æ¨™æº–
- ä¿æŒä»£ç¢¼ç°¡æ½”

### 2. æ€§èƒ½å„ªåŒ–
- ä½¿ç”¨é©ç•¶çš„æ•¸æ“šåº«æŸ¥è©¢
- å¯¦ç¾ç·©å­˜ç­–ç•¥
- å„ªåŒ–è³‡æºåŠ è¼‰

### 3. ç”¨æˆ¶é«”é©—
- æä¾›æ¸…æ™°çš„å°èˆª
- ä½¿ç”¨ä¸€è‡´çš„è¨­è¨ˆèªè¨€
- å¯¦ç¾éŸ¿æ‡‰å¼è¨­è¨ˆ

### 4. å®‰å…¨æ€§
- å¯¦æ–½é©ç•¶çš„æ¬Šé™æ§åˆ¶
- é©—è­‰æ‰€æœ‰ç”¨æˆ¶è¼¸å…¥
- ä¿è­·æ•æ„Ÿæ•¸æ“š

## å¸¸è¦‹å•é¡Œ

### 1. æ€§èƒ½å•é¡Œ
- æª¢æŸ¥æ•¸æ“šåº«æŸ¥è©¢
- å„ªåŒ–è³‡æºåŠ è¼‰
- ä½¿ç”¨é©ç•¶çš„ç·©å­˜

### 2. æ¨£å¼å•é¡Œ
- æª¢æŸ¥ CSS è¡çª
- ä½¿ç”¨æ­£ç¢ºçš„ CSS é¡å
- ç¢ºä¿éŸ¿æ‡‰å¼è¨­è¨ˆ

### 3. åŠŸèƒ½å•é¡Œ
- æª¢æŸ¥é…ç½®è¨­ç½®
- æŸ¥çœ‹éŒ¯èª¤æ—¥èªŒ
- åƒè€ƒå®˜æ–¹æ–‡æª”

## åƒè€ƒè³‡æº

- [å®˜æ–¹æ–‡æª”](https://filamentphp.com/docs/4.x)
- [GitHub å€‰åº«](https://github.com/filamentphp/filament)
- [ç¤¾å€è«–å£‡](https://filamentphp.com/community)
- [æ’ä»¶å¸‚å ´](https://filamentphp.com/plugins)

## çµèª

Filament v4 æ˜¯ä¸€å€‹åŠŸèƒ½å¼·å¤§ä¸”éˆæ´»çš„ Laravel ç®¡ç†é¢æ¿æ§‹å»ºå™¨ã€‚é€šéæœ¬æ–‡æª”ï¼Œæ‚¨æ‡‰è©²èƒ½å¤ äº†è§£ v4 çš„æ–°åŠŸèƒ½å’Œæ”¹é€²ï¼Œä¸¦é–‹å§‹æ§‹å»ºæ‚¨è‡ªå·±çš„ç®¡ç†æ‡‰ç”¨ç¨‹åºã€‚

è¨˜ä½ï¼ŒFilament æ˜¯ä¸€å€‹æ´»èºçš„é–‹æºé …ç›®ï¼Œå®šæœŸæœƒæœ‰æ›´æ–°å’Œæ–°åŠŸèƒ½ã€‚å»ºè­°å®šæœŸæŸ¥çœ‹å®˜æ–¹æ–‡æª”ä»¥ç²å–æœ€æ–°ä¿¡æ¯ã€‚

### 19. é—œä¿‚ç®¡ç† (Managing Relationships)

#### 19.1 æ¦‚è¿°
**é¸æ“‡åˆé©çš„å·¥å…·ï¼š**
Filament æä¾›äº†å¤šç¨®ç®¡ç†é—œä¿‚çš„æ–¹å¼ï¼Œé¸æ“‡å“ªç¨®åŠŸèƒ½å–æ±ºæ–¼æ‚¨è¦ç®¡ç†çš„é—œä¿‚é¡å‹å’Œæ‰€éœ€çš„ UIã€‚

#### 19.2 é—œä¿‚ç®¡ç†å·¥å…·

##### 19.2.1 é—œä¿‚ç®¡ç†å™¨ (Relation Managers)
**é©ç”¨æ–¼ï¼š** `HasMany`, `HasManyThrough`, `BelongsToMany`, `MorphMany`, `MorphToMany` é—œä¿‚
**ç‰¹é»ï¼š** åœ¨è³‡æºè¡¨å–®ä¸‹æ–¹çš„äº’å‹•å¼è¡¨æ ¼

**å‰µå»ºé—œä¿‚ç®¡ç†å™¨ï¼š**
```bash
php artisan make:filament-relation-manager CategoryResource posts title
```

**åŸºæœ¬çµæ§‹ï¼š**
```php
use Filament\Resources\RelationManagers\RelationManager;
use Filament\Tables;
use Filament\Tables\Table;

class PostsRelationManager extends RelationManager
{
    protected static string $relationship = 'posts';
    protected static ?string $recordTitleAttribute = 'title';

    public function table(Table $table): Table
    {
        return $table
            ->columns([
                Tables\Columns\TextColumn::make('title'),
                Tables\Columns\TextColumn::make('created_at'),
            ])
            ->filters([
                //
            ])
            ->headerActions([
                Tables\Actions\CreateAction::make(),
            ])
            ->actions([
                Tables\Actions\EditAction::make(),
                Tables\Actions\DeleteAction::make(),
            ])
            ->bulkActions([
                Tables\Actions\BulkActionGroup::make([
                    Tables\Actions\DeleteBulkAction::make(),
                ]),
            ]);
    }

    public function form(Schema $schema): Schema
    {
        return $schema
            ->components([
                Forms\Components\TextInput::make('title')
                    ->required()
                    ->maxLength(255),
                Forms\Components\Textarea::make('content')
                    ->required()
                    ->maxLength(65535)
                    ->columnSpanFull(),
            ]);
    }
}
```

**è¨»å†Šé—œä¿‚ç®¡ç†å™¨ï¼š**
```php
public static function getRelations(): array
{
    return [
        PostsRelationManager::class,
    ];
}
```

##### 19.2.2 é¸æ“‡å™¨å’Œè¤‡é¸æ¡†åˆ—è¡¨
**é©ç”¨æ–¼ï¼š** `BelongsTo`, `BelongsToMany` é—œä¿‚
**ç‰¹é»ï¼š** å¾ç¾æœ‰è¨˜éŒ„ä¸­é¸æ“‡æˆ–å‰µå»ºæ–°è¨˜éŒ„

**BelongsTo é—œä¿‚ï¼š**
```php
use Filament\Forms\Components\Select;

Select::make('category_id')
    ->relationship('category', 'name')
    ->searchable()
    ->preload()
    ->createOptionForm([
        TextInput::make('name')->required(),
        TextInput::make('slug')->required(),
    ]);
```

**BelongsToMany é—œä¿‚ï¼š**
```php
use Filament\Forms\Components\CheckboxList;

CheckboxList::make('tags')
    ->relationship('tags', 'name')
    ->searchable()
    ->preload()
    ->bulkToggleable();
```

##### 19.2.3 é‡è¤‡å™¨ (Repeaters)
**é©ç”¨æ–¼ï¼š** åœ¨æ‰€æœ‰è€…è¡¨å–®å…§ CRUD å¤šå€‹ç›¸é—œè¨˜éŒ„
**ç‰¹é»ï¼š** å‹•æ…‹æ·»åŠ /åˆªé™¤å­—æ®µçµ„

```php
use Filament\Forms\Components\Repeater;

Repeater::make('phone_numbers')
    ->schema([
        Select::make('type')
            ->options([
                'mobile' => 'Mobile',
                'home' => 'Home',
                'work' => 'Work',
            ])
            ->required(),
        TextInput::make('number')
            ->tel()
            ->required(),
    ])
    ->defaultItems(1)
    ->reorderableWithButtons()
    ->collapsible();
```

##### 19.2.4 ä½ˆå±€è¡¨å–®çµ„ä»¶
**é©ç”¨æ–¼ï¼š** å°‡è¡¨å–®å­—æ®µä¿å­˜åˆ°å–®å€‹é—œä¿‚
**ç‰¹é»ï¼š** ä½¿ç”¨ Section æˆ– Fieldset åˆ†çµ„

```php
use Filament\Forms\Components\Section;

Section::make('Address Information')
    ->schema([
        TextInput::make('address.street'),
        TextInput::make('address.city'),
        TextInput::make('address.postal_code'),
    ])
    ->columns(3);
```

#### 19.3 é—œä¿‚ç®¡ç†å™¨åŠŸèƒ½

##### 19.3.1 è‡ªå®šç¾© URL åƒæ•¸
```php
protected static ?string $slug = 'posts';
```

##### 19.3.2 åªè®€æ¨¡å¼
```php
protected static bool $isReadOnly = true;
```

##### 19.3.3 è™•ç†è»Ÿåˆªé™¤
```php
protected static bool $hasAssociateAction = false;
protected static bool $hasDissociateAction = false;
```

##### 19.3.4 è‡ªå®šç¾©æŸ¥è©¢
```php
public function table(Table $table): Table
{
    return $table
        ->modifyQueryUsing(fn (Builder $query) => $query->where('status', 'published'))
        ->columns([
            // ...
        ]);
}
```

#### 19.4 é—œä¿‚é é¢ (Relation Pages)
**æ›¿ä»£é—œä¿‚ç®¡ç†å™¨çš„é¸æ“‡ï¼š**
- ä½¿ç”¨ `ManageRelatedRecords` é é¢
- é©ç”¨æ–¼è³‡æºå­å°èˆª
- ä¿æŒé—œä¿‚ç®¡ç†åŠŸèƒ½èˆ‡ç·¨è¼¯/æŸ¥çœ‹æ‰€æœ‰è€…è¨˜éŒ„åˆ†é›¢

**å‰µå»ºé—œä¿‚é é¢ï¼š**
```bash
php artisan make:filament-page ManageCustomerAddresses --resource=CustomerResource --type=ManageRelatedRecords
```

**è¨»å†Šé—œä¿‚é é¢ï¼š**
```php
public static function getPages(): array
{
    return [
        'index' => Pages\ListCustomers::route('/'),
        'create' => Pages\CreateCustomer::route('/create'),
        'view' => Pages\ViewCustomer::route('/{record}'),
        'edit' => Pages\EditCustomer::route('/{record}/edit'),
        'addresses' => Pages\ManageCustomerAddresses::route('/{record}/addresses'),
    ];
}
```

**æ·»åŠ åˆ°è³‡æºå­å°èˆªï¼š**
```php
public static function getRecordSubNavigation(Page $page): array
{
    return $page->generateNavigationItems([
        // ...
        Pages\ManageCustomerAddresses::class,
    ]);
}
```

#### 19.5 å‚³éå±¬æ€§åˆ°é—œä¿‚ç®¡ç†å™¨
```php
public static function getRelations(): array
{
    return [
        CommentsRelationManager::make([
            'status' => 'approved',
        ]),
    ];
}
```

**åœ¨é—œä¿‚ç®¡ç†å™¨ä¸­æ¥æ”¶ï¼š**
```php
class CommentsRelationManager extends RelationManager
{
    public string $status;

    public function table(Table $table): Table
    {
        return $table
            ->modifyQueryUsing(fn (Builder $query) => $query->where('status', $this->status))
            ->columns([
                // ...
            ]);
    }
}
```

#### 19.6 ç¦ç”¨æ‡¶åŠ è¼‰
```php
protected static bool $isLazy = false;
```

### 20. è³‡æºæ¦‚è¿° (Resources Overview)

#### 20.1 è³‡æºåŸºç¤
**è³‡æºæ˜¯ç®¡ç† Eloquent æ¨¡å‹çš„å®Œæ•´ CRUD ç•Œé¢ï¼š**
- **List** - åˆ†é è¡¨æ ¼é¡¯ç¤ºæ‰€æœ‰è¨˜éŒ„
- **Create** - å‰µå»ºæ–°è¨˜éŒ„çš„è¡¨å–®
- **Edit** - ç·¨è¼¯ç¾æœ‰è¨˜éŒ„çš„è¡¨å–®
- **View** - åªè®€è¨˜éŒ„é¡¯ç¤º

#### 20.2 å‰µå»ºè³‡æº
```bash
php artisan make:filament-resource User
```

**åŸºæœ¬è³‡æºçµæ§‹ï¼š**
```php
use Filament\Resources\Resource;

class UserResource extends Resource
{
    protected static ?string $model = User::class;
    protected static ?string $navigationIcon = 'heroicon-o-users';
    protected static ?string $navigationGroup = 'User Management';

    public static function form(Schema $schema): Schema
    {
        return $schema
            ->components([
                Forms\Components\TextInput::make('name')->required(),
                Forms\Components\TextInput::make('email')->email()->required(),
            ]);
    }

    public static function table(Table $table): Table
    {
        return $table
            ->columns([
                Tables\Columns\TextColumn::make('name')->searchable(),
                Tables\Columns\TextColumn::make('email')->searchable(),
            ])
            ->filters([
                //
            ])
            ->actions([
                Tables\Actions\EditAction::make(),
            ])
            ->bulkActions([
                Tables\Actions\BulkActionGroup::make([
                    Tables\Actions\DeleteBulkAction::make(),
                ]),
            ]);
    }

    public static function getPages(): array
    {
        return [
            'index' => Pages\ListUsers::route('/'),
            'create' => Pages\CreateUser::route('/create'),
            'edit' => Pages\EditUser::route('/{record}/edit'),
        ];
    }
}
```

#### 20.3 è³‡æºé…ç½®

##### 20.3.1 å°èˆªé…ç½®
```php
protected static ?string $navigationIcon = 'heroicon-o-users';
protected static ?string $navigationGroup = 'User Management';
protected static ?int $navigationSort = 1;
protected static ?string $navigationLabel = 'Users';
protected static ?string $navigationBadge = 'New';
protected static ?string $navigationBadgeTooltip = 'New users this week';
```

##### 20.3.2 æ¨¡å‹é…ç½®
```php
protected static ?string $model = User::class;
protected static ?string $slug = 'users';
protected static ?string $recordTitleAttribute = 'name';
```

##### 20.3.3 æ¬Šé™é…ç½®
```php
protected static bool $shouldRegisterNavigation = true;
protected static bool $shouldSkipAuthorization = false;
```

#### 20.4 è‡ªå®šç¾©é é¢
```php
public static function getPages(): array
{
    return [
        'index' => Pages\ListUsers::route('/'),
        'create' => Pages\CreateUser::route('/create'),
        'view' => Pages\ViewUser::route('/{record}'),
        'edit' => Pages\EditUser::route('/{record}/edit'),
        'settings' => Pages\UserSettings::route('/{record}/settings'),
    ];
}
```

### 21. è¡¨æ ¼æ“ä½œ (Table Actions)

#### 21.1 æ“ä½œé¡å‹

##### 21.1.1 è¡Œæ“ä½œ (Row Actions)
**å–®å€‹è¨˜éŒ„çš„æ“ä½œï¼š**
```php
use Filament\Tables\Actions;

public function table(Table $table): Table
{
    return $table
        ->actions([
            Actions\ViewAction::make(),
            Actions\EditAction::make(),
            Actions\DeleteAction::make(),
        ]);
}
```

##### 21.1.2 æ¨™é¡Œæ“ä½œ (Header Actions)
**è¡¨æ ¼é ‚éƒ¨çš„æ“ä½œï¼š**
```php
public function table(Table $table): Table
{
    return $table
        ->headerActions([
            Actions\CreateAction::make(),
            Actions\ImportAction::make(),
        ]);
}
```

##### 21.1.3 æ‰¹é‡æ“ä½œ (Bulk Actions)
**å¤šå€‹è¨˜éŒ„çš„æ“ä½œï¼š**
```php
use Filament\Tables\Actions\BulkActionGroup;

public function table(Table $table): Table
{
    return $table
        ->bulkActions([
            BulkActionGroup::make([
                Actions\BulkAction::make('activate')
                    ->label('Activate Selected')
                    ->icon('heroicon-o-check-circle')
                    ->color('success')
                    ->action(function ($records) {
                        $records->each->update(['is_active' => true]);
                    }),
                Actions\BulkAction::make('deactivate')
                    ->label('Deactivate Selected')
                    ->icon('heroicon-o-x-circle')
                    ->color('danger')
                    ->action(function ($records) {
                        $records->each->update(['is_active' => false]);
                    }),
                Actions\DeleteBulkAction::make(),
            ]),
        ]);
}
```

#### 21.2 è‡ªå®šç¾©æ“ä½œ

##### 21.2.1 è‡ªå®šç¾©æ“ä½œæŒ‰éˆ•
```php
Actions\Action::make('send_notification')
    ->label('Send Notification')
    ->icon('heroicon-o-bell')
    ->color('warning')
    ->form([
        Forms\Components\TextInput::make('subject')->required(),
        Forms\Components\Textarea::make('message')->required(),
    ])
    ->action(function (array $data, $record) {
        $record->notify(new CustomNotification($data['subject'], $data['message']));
    })
    ->successNotification(
        Notification::make()
            ->success()
            ->title('Notification sent')
            ->body('The notification has been sent successfully.')
    );
```

##### 21.2.2 æ¢ä»¶æ“ä½œ
```php
Actions\EditAction::make()
    ->visible(fn ($record) => $record->status !== 'archived')
    ->disabled(fn ($record) => $record->is_locked);
```

##### 21.2.3 æ“ä½œåˆ†çµ„
```php
Actions\ActionGroup::make([
    Actions\ViewAction::make(),
    Actions\EditAction::make(),
    Actions\DeleteAction::make(),
])
    ->label('Actions')
    ->icon('heroicon-m-ellipsis-vertical')
    ->color('gray')
    ->dropdownPlacement('bottom-end');
```

#### 21.3 æ“ä½œé…ç½®

##### 21.3.1 æ¨¡æ…‹æ¡†é…ç½®
```php
Actions\EditAction::make()
    ->modalHeading('Edit User')
    ->modalDescription('Update user information')
    ->modalSubmitActionLabel('Save Changes')
    ->modalCancelActionLabel('Cancel')
    ->modalWidth('lg');
```

##### 21.3.2 ç¢ºèªå°è©±æ¡†
```php
Actions\DeleteAction::make()
    ->requiresConfirmation()
    ->modalHeading('Delete User')
    ->modalDescription('Are you sure you want to delete this user? This action cannot be undone.')
    ->modalSubmitActionLabel('Yes, delete user')
    ->modalCancelActionLabel('Cancel');
```

##### 21.3.3 é‡å®šå‘é…ç½®
```php
Actions\CreateAction::make()
    ->redirect(route('admin.users.index'));

Actions\EditAction::make()
    ->redirect(fn ($record) => route('admin.users.view', $record));
```

### 22. è¡¨æ ¼ä½ˆå±€ (Table Layout)

#### 22.1 éŸ¿æ‡‰å¼ä½ˆå±€
```php
public function table(Table $table): Table
{
    return $table
        ->contentGrid([
            'md' => 2,
            'xl' => 3,
        ])
        ->columns([
            // ...
        ]);
}
```

#### 22.2 è‡ªå®šç¾©ä½ˆå±€
```php
public function table(Table $table): Table
{
    return $table
        ->columns([
            Tables\Columns\TextColumn::make('name')
                ->columnSpan([
                    'default' => 1,
                    'md' => 2,
                ]),
            Tables\Columns\TextColumn::make('email')
                ->columnSpan([
                    'default' => 1,
                    'md' => 1,
                ]),
        ]);
}
```

#### 22.3 è¡¨æ ¼æ¨£å¼
```php
public function table(Table $table): Table
{
    return $table
        ->striped()
        ->hover()
        ->bordered()
        ->compact();
}
```

#### 22.4 ç©ºç‹€æ…‹
```php
public function table(Table $table): Table
{
    return $table
        ->emptyStateHeading('No users found')
        ->emptyStateDescription('Create your first user to get started.')
        ->emptyStateIcon('heroicon-o-users')
        ->emptyStateActions([
            Tables\Actions\Action::make('create')
                ->label('Create user')
                ->url(route('admin.users.create'))
                ->icon('heroicon-o-plus')
                ->button(),
        ]);
}
```

### 23. è¡¨æ ¼æ‘˜è¦ (Table Summaries)

#### 23.1 åŸºæœ¬æ‘˜è¦
```php
use Filament\Tables\Enums\FiltersLayout;

public function table(Table $table): Table
{
    return $table
        ->columns([
            Tables\Columns\TextColumn::make('name'),
            Tables\Columns\TextColumn::make('email'),
            Tables\Columns\TextColumn::make('created_at')
                ->dateTime(),
        ])
        ->filters([
            Tables\Filters\SelectFilter::make('status')
                ->options([
                    'active' => 'Active',
                    'inactive' => 'Inactive',
                ]),
        ], layout: FiltersLayout::AboveContent)
        ->filtersFormColumns(3)
        ->filtersTriggerAction(
            fn (Tables\Actions\Action $action) => $action
                ->button()
                ->label('Filters'),
        );
}
```

#### 23.2 è‡ªå®šç¾©æ‘˜è¦
```php
public function table(Table $table): Table
{
    return $table
        ->columns([
            Tables\Columns\TextColumn::make('name'),
            Tables\Columns\TextColumn::make('email'),
            Tables\Columns\TextColumn::make('created_at')
                ->dateTime(),
        ])
        ->filters([
            Tables\Filters\Filter::make('created_from')
                ->form([
                    Forms\Components\DatePicker::make('created_from'),
                ])
                ->query(function (Builder $query, array $data): Builder {
                    return $query
                        ->when(
                            $data['created_from'],
                            fn (Builder $query, $date): Builder => $query->whereDate('created_at', '>=', $date),
                        );
                }),
        ]);
}
```

#### 23.3 æ‘˜è¦ä½ˆå±€
```php
public function table(Table $table): Table
{
    return $table
        ->filters([
            // ...
        ], layout: FiltersLayout::AboveContent) // AboveContent, AboveContentCollapsible, BelowContent, Dropdown
        ->filtersFormColumns(3)
        ->filtersTriggerAction(
            fn (Tables\Actions\Action $action) => $action
                ->button()
                ->label('Filters')
                ->icon('heroicon-o-funnel'),
        );
}
```

#### 23.4 æŒä¹…åŒ–æ‘˜è¦
```php
public function table(Table $table): Table
{
    return $table
        ->filters([
            Tables\Filters\SelectFilter::make('status')
                ->options([
                    'active' => 'Active',
                    'inactive' => 'Inactive',
                ])
                ->persist(),
        ]);
}
```

### 24. é—œä¿‚ç®¡ç†å™¨è‡ªå®šç¾©

#### 24.1 è‡ªå®šç¾©é—œä¿‚ç®¡ç†å™¨æ¨™é¡Œ
```php
protected static ?string $title = 'Posts';

// æˆ–å‹•æ…‹æ¨™é¡Œ
public static function getTitle(Model $ownerRecord, string $pageClass): string
{
    return __('relation-managers.posts.title');
}
```

#### 24.2 è‡ªå®šç¾©è¨˜éŒ„æ¨™é¡Œ
```php
public function table(Table $table): Table
{
    return $table
        ->recordTitle(fn (Post $record): string => "{$record->title} ({$record->id})")
        ->columns([
            // ...
        ]);
}
```

#### 24.3 é—œä¿‚ç®¡ç†å™¨åˆ†çµ„
```php
public static function getRelations(): array
{
    return [
        'content' => [
            PostsRelationManager::class,
            CommentsRelationManager::class,
        ],
        'settings' => [
            SettingsRelationManager::class,
        ],
    ];
}
```

#### 24.4 æ¢ä»¶é¡¯ç¤ºé—œä¿‚ç®¡ç†å™¨
```php
public static function getRelations(): array
{
    return [
        PostsRelationManager::class,
        CommentsRelationManager::class,
    ];
}

public static function getEloquentQuery(): Builder
{
    return parent::getEloquentQuery()
        ->when(
            auth()->user()->role !== 'admin',
            fn (Builder $query) => $query->where('is_public', true),
        );
}
```

#### 24.5 çµ„åˆé—œä¿‚ç®¡ç†å™¨æ¨™ç±¤èˆ‡è¡¨å–®
```php
public function getContentTabLabel(): ?string
{
    return 'Content';
}

public function getContentTabIcon(): ?string
{
    return 'heroicon-o-document-text';
}

public function getContentTabBadge(): ?string
{
    return $this->getOwnerRecord()->posts()->count();
}
```

### 25. é«˜ç´šè¡¨æ ¼åŠŸèƒ½

#### 25.1 è¡Œåˆ†çµ„
```php
public function table(Table $table): Table
{
    return $table
        ->columns([
            Tables\Columns\TextColumn::make('name'),
            Tables\Columns\TextColumn::make('email'),
            Tables\Columns\TextColumn::make('created_at')
                ->dateTime(),
        ])
        ->grouping([
            'groupQuery' => fn (Builder $query, string $direction): Builder => $query->orderBy('created_at', $direction),
        ])
        ->defaultGroup('created_at');
}
```

#### 25.2 è‡ªå®šç¾©æ•¸æ“š
```php
public function table(Table $table): Table
{
    return $table
        ->query(
            User::query()
                ->select(['id', 'name', 'email', 'created_at'])
                ->where('is_active', true)
        )
        ->columns([
            Tables\Columns\TextColumn::make('name'),
            Tables\Columns\TextColumn::make('email'),
            Tables\Columns\TextColumn::make('created_at')
                ->dateTime(),
        ]);
}
```

#### 25.3 è¡¨æ ¼äº‹ä»¶
```php
public function table(Table $table): Table
{
    return $table
        ->columns([
            // ...
        ])
        ->actions([
            Tables\Actions\EditAction::make()
                ->after(function ($record) {
                    // ç·¨è¼¯å¾Œçš„æ“ä½œ
                    activity()->log("User {$record->name} was edited");
                }),
        ]);
}
```

### 26. æœ€ä½³å¯¦è¸

#### 26.1 æ€§èƒ½å„ªåŒ–
- ä½¿ç”¨é©ç•¶çš„æ•¸æ“šåº«æŸ¥è©¢
- é¿å… N+1 æŸ¥è©¢å•é¡Œ
- åˆç†ä½¿ç”¨é åŠ è¼‰
- å¯¦æ–½é©ç•¶çš„ç´¢å¼•

#### 26.2 ç”¨æˆ¶é«”é©—
- æä¾›æ¸…æ™°çš„æ¨™ç±¤å’Œæè¿°
- ä½¿ç”¨é©ç•¶çš„åœ–æ¨™å’Œé¡è‰²
- ç¢ºä¿éŸ¿æ‡‰å¼è¨­è¨ˆ
- æä¾›æœ‰ç”¨çš„ç©ºç‹€æ…‹

#### 26.3 å®‰å…¨æ€§
- å¯¦æ–½é©ç•¶çš„æ¬Šé™æª¢æŸ¥
- é©—è­‰æ‰€æœ‰ç”¨æˆ¶è¼¸å…¥
- ä¿è­·æ•æ„Ÿæ•¸æ“š
- è¨˜éŒ„é‡è¦æ“ä½œ

#### 26.4 ä»£ç¢¼çµ„ç¹”
- ä½¿ç”¨é©ç•¶çš„å‘½åç©ºé–“
- éµå¾ª PSR æ¨™æº–
- ä¿æŒä»£ç¢¼ç°¡æ½”
- æ·»åŠ é©ç•¶çš„è¨»é‡‹


è¨˜ä½ï¼ŒFilament æ˜¯ä¸€å€‹æ´»èºçš„é–‹æºé …ç›®ï¼Œå®šæœŸæœƒæœ‰æ›´æ–°å’Œæ–°åŠŸèƒ½ã€‚å»ºè­°å®šæœŸæŸ¥çœ‹å®˜æ–¹æ–‡æª”ä»¥ç²å–æœ€æ–°ä¿¡æ¯ã€‚

### 27. å°èˆªç³»çµ± (Navigation System)

#### 27.1 æ¦‚è¿°
**å°èˆªç³»çµ±åŠŸèƒ½ï¼š**
- é»˜èªæƒ…æ³ä¸‹ï¼ŒFilament æœƒç‚ºæ¯å€‹è³‡æºã€è‡ªå®šç¾©é é¢å’Œé›†ç¾¤è¨»å†Šå°èˆªé …ç›®
- é€™äº›é¡åŒ…å«éœæ…‹å±¬æ€§å’Œæ–¹æ³•ï¼Œæ‚¨å¯ä»¥è¦†è“‹å®ƒå€‘ä¾†é…ç½®å°èˆªé …ç›®
- å¦‚æœæ‚¨æƒ³ç‚ºæ‡‰ç”¨ç¨‹åºæ·»åŠ ç¬¬äºŒå±¤å°èˆªï¼Œå¯ä»¥ä½¿ç”¨é›†ç¾¤ä¾†å°‡è³‡æºå’Œé é¢åˆ†çµ„åœ¨ä¸€èµ·

#### 27.2 è‡ªå®šç¾©å°èˆªé …ç›®æ¨™ç±¤

**è‡ªå®šç¾©å°èˆªæ¨™ç±¤ï¼š**
```php
protected static ?string $navigationLabel = 'Custom Navigation Label';
```

**å‹•æ…‹æ¨™ç±¤ï¼š**
```php
public static function getNavigationLabel(): string
{
    return __('navigation.users');
}
```

#### 27.3 è‡ªå®šç¾©å°èˆªé …ç›®åœ–æ¨™

**è¨­ç½®å°èˆªåœ–æ¨™ï¼š**
```php
protected static ?string $navigationIcon = 'heroicon-o-users';
```

**å‹•æ…‹åœ–æ¨™ï¼š**
```php
public static function getNavigationIcon(): ?string
{
    return 'heroicon-o-users';
}
```

**ç•¶å°èˆªé …ç›®è™•æ–¼æ´»å‹•ç‹€æ…‹æ™‚åˆ‡æ›åœ–æ¨™ï¼š**
```php
protected static ?string $navigationActiveIcon = 'heroicon-o-users';
```

#### 27.4 æ’åºå°èˆªé …ç›®

**è¨­ç½®å°èˆªæ’åºï¼š**
```php
protected static ?int $navigationSort = 1;
```

**å‹•æ…‹æ’åºï¼š**
```php
public static function getNavigationSort(): ?int
{
    return 1;
}
```

#### 27.5 ç‚ºå°èˆªé …ç›®æ·»åŠ å¾½ç« 

**æ·»åŠ å¾½ç« ï¼š**
```php
protected static ?string $navigationBadge = 'New';
```

**å‹•æ…‹å¾½ç« ï¼š**
```php
public static function getNavigationBadge(): ?string
{
    return User::count();
}
```

**å¾½ç« é¡è‰²ï¼š**
```php
protected static ?string $navigationBadgeColor = 'success';
```

**å¾½ç« å·¥å…·æç¤ºï¼š**
```php
protected static ?string $navigationBadgeTooltip = 'New users this week';
```

#### 27.6 åˆ†çµ„å°èˆªé …ç›®

**ä½¿ç”¨å°èˆªçµ„ï¼š**
```php
protected static ?string $navigationGroup = 'User Management';
```

**å‹•æ…‹åˆ†çµ„ï¼š**
```php
public static function getNavigationGroup(): ?string
{
    return __('navigation.user_management');
}
```

**åœ¨å°èˆªçµ„ä¸‹åˆ†çµ„å…¶ä»–é …ç›®ï¼š**
```php
protected static ?string $navigationParentItem = 'settings';
```

**è‡ªå®šç¾©å°èˆªçµ„ï¼š**
```php
use Filament\Navigation\NavigationGroup;

NavigationGroup::make('Website')
    ->icon('heroicon-o-globe-alt')
    ->collapsed();
```

**ä½¿ç”¨æšèˆ‰è¨»å†Šå°èˆªçµ„ï¼š**
```php
enum NavigationGroup: string
{
    case Website = 'website';
    case Settings = 'settings';
}

// åœ¨è³‡æºä¸­ä½¿ç”¨
protected static ?string $navigationGroup = NavigationGroup::Website->value;
```

#### 27.7 æ¡Œé¢ä¸Šçš„å¯æŠ˜ç–Šå´é‚Šæ¬„

**å•Ÿç”¨æ¡Œé¢æŠ˜ç–Šï¼š**
```php
use Filament\Panel;

public function panel(Panel $panel): Panel
{
    return $panel
        ->sidebarCollapsibleOnDesktop();
}
```

**æ¡Œé¢å¯æŠ˜ç–Šå´é‚Šæ¬„ä¸­çš„å°èˆªçµ„ï¼š**
```php
NavigationGroup::make('Website')
    ->collapsed();
```

#### 27.8 è¨»å†Šè‡ªå®šç¾©å°èˆªé …ç›®

**å‰µå»ºè‡ªå®šç¾©å°èˆªé …ç›®ï¼š**
```php
use Filament\Navigation\NavigationItem;

NavigationItem::make('Analytics')
    ->url('https://filament.pirsch.io', shouldOpenInNewTab: true)
    ->icon('heroicon-o-presentation-chart-line')
    ->group('Reports')
    ->sort(3);
```

**å‹•æ…‹å°èˆªé …ç›®ï¼š**
```php
NavigationItem::make('dashboard')
    ->label(fn (): string => __('filament-panels::pages/dashboard.title'))
    ->url(fn (): string => Dashboard::getUrl())
    ->isActiveWhen(fn () => original_request()->routeIs('filament.admin.pages.dashboard'));
```

#### 27.9 æ¢ä»¶æ€§éš±è—å°èˆªé …ç›®

**åŸºæ–¼æ¢ä»¶éš±è—å°èˆªé …ç›®ï¼š**
```php
use Filament\Navigation\NavigationItem;

NavigationItem::make('Analytics')
    ->visible(fn(): bool => auth()->user()->can('view-analytics'))
    // æˆ–è€…
    ->hidden(fn(): bool => ! auth()->user()->can('view-analytics'));
```

#### 27.10 ç¦ç”¨è³‡æºæˆ–é é¢å°èˆªé …ç›®

**é˜²æ­¢è³‡æºæˆ–é é¢é¡¯ç¤ºåœ¨å°èˆªä¸­ï¼š**
```php
protected static bool $shouldRegisterNavigation = false;
```

**æˆ–è€…è¦†è“‹æ–¹æ³•ï¼š**
```php
public static function shouldRegisterNavigation(): bool
{
    return false;
}
```

#### 27.11 ä½¿ç”¨é ‚éƒ¨å°èˆª

**é…ç½®é ‚éƒ¨å°èˆªï¼š**
```php
use Filament\Panel;

public function panel(Panel $panel): Panel
{
    return $panel
        ->topNavigation();
}
```

#### 27.12 è‡ªå®šç¾©å´é‚Šæ¬„å¯¬åº¦

**è¨­ç½®å´é‚Šæ¬„å¯¬åº¦ï¼š**
```php
use Filament\Panel;

public function panel(Panel $panel): Panel
{
    return $panel
        ->sidebarWidth('40rem');
}
```

**è‡ªå®šç¾©æŠ˜ç–Šåœ–æ¨™å¯¬åº¦ï¼š**
```php
use Filament\Panel;

public function panel(Panel $panel): Panel
{
    return $panel
        ->sidebarCollapsibleOnDesktop()
        ->collapsedSidebarWidth('9rem');
}
```

#### 27.13 é«˜ç´šå°èˆªè‡ªå®šç¾©

**æ§‹å»ºè‡ªå®šç¾©å°èˆªï¼š**
```php
use App\Filament\Pages\Settings;
use App\Filament\Resources\Users\UserResource;
use Filament\Navigation\NavigationBuilder;
use Filament\Navigation\NavigationItem;
use Filament\Pages\Dashboard;
use Filament\Panel;
use function Filament\Support\original_request;

public function panel(Panel $panel): Panel
{
    return $panel
        ->navigation(function (NavigationBuilder $builder): NavigationBuilder {
            return $builder->items([
                NavigationItem::make('Dashboard')
                    ->icon('heroicon-o-home')
                    ->isActiveWhen(fn (): bool => original_request()->routeIs('filament.admin.pages.dashboard'))
                    ->url(fn (): string => Dashboard::getUrl()),
                ...UserResource::getNavigationItems(),
                ...Settings::getNavigationItems(),
            ]);
        });
}
```

**è¨»å†Šè‡ªå®šç¾©å°èˆªçµ„ï¼š**
```php
use App\Filament\Pages\HomePageSettings;
use App\Filament\Resources\Categories\CategoryResource;
use App\Filament\Resources\Pages\PageResource;
use Filament\Navigation\NavigationBuilder;
use Filament\Navigation\NavigationGroup;
use Filament\Panel;

public function panel(Panel $panel): Panel
{
    return $panel
        ->navigation(function (NavigationBuilder $builder): NavigationBuilder {
            return $builder->groups([
                NavigationGroup::make('Website')
                    ->items([
                        ...PageResource::getNavigationItems(),
                        ...CategoryResource::getNavigationItems(),
                        ...HomePageSettings::getNavigationItems(),
                    ]),
            ]);
        });
}
```

#### 27.14 ç¦ç”¨å°èˆª

**å®Œå…¨ç¦ç”¨å°èˆªï¼š**
```php
use Filament\Panel;

public function panel(Panel $panel): Panel
{
    return $panel
        ->navigation(false);
}
```

#### 27.15 ç¦ç”¨é ‚éƒ¨æ¬„

**ç¦ç”¨é ‚éƒ¨æ¬„ï¼š**
```php
use Filament\Panel;

public function panel(Panel $panel): Panel
{
    return $panel
        ->topbar(false);
}
```

#### 27.16 æ›¿æ›å´é‚Šæ¬„å’Œé ‚éƒ¨æ¬„ Livewire çµ„ä»¶

**ä½¿ç”¨è‡ªå®šç¾©çµ„ä»¶ï¼š**
```php
use App\Livewire\Sidebar;
use App\Livewire\Topbar;
use Filament\Panel;

public function panel(Panel $panel): Panel
{
    return $panel
        ->sidebarLivewireComponent(Sidebar::class)
        ->topbarLivewireComponent(Topbar::class);
}
```

#### 27.17 ç¦ç”¨éºµåŒ…å±‘

**ç¦ç”¨éºµåŒ…å±‘ï¼š**
```php
use Filament\Panel;

public function panel(Panel $panel): Panel
{
    return $panel
        ->breadcrumbs(false);
}
```

#### 27.18 é‡æ–°åŠ è¼‰å´é‚Šæ¬„å’Œé ‚éƒ¨æ¬„

**å¾ PHP èª¿åº¦äº‹ä»¶ï¼š**
```php
// åœ¨ä»»ä½• Livewire çµ„ä»¶ä¸­
$this->dispatch('refresh-sidebar');

// åœ¨è‡ªå®šç¾©æ“ä½œä¸­
use Filament\Actions\Action;
use Livewire\Component;

Action::make('create')
    ->action(function (Component $livewire) {
        // ...
    
        $livewire->dispatch('refresh-sidebar');
    });
```

**å¾ JavaScript èª¿åº¦äº‹ä»¶ï¼š**
```html
<!-- ä½¿ç”¨ Alpine.js -->
<button x-on:click="$dispatch('refresh-sidebar')" type="button">
    Refresh Sidebar
</button>

<!-- ä½¿ç”¨åŸç”Ÿ JavaScript -->
<script>
window.dispatchEvent(new CustomEvent('refresh-sidebar'));
</script>
```

#### 27.19 å°èˆªæœ€ä½³å¯¦è¸

##### 27.19.1 çµ„ç¹”åŸå‰‡
- **é‚è¼¯åˆ†çµ„**: å°‡ç›¸é—œåŠŸèƒ½çµ„ç¹”åœ¨ä¸€èµ·
- **å±¤æ¬¡çµæ§‹**: ä½¿ç”¨é©ç•¶çš„å±¤æ¬¡çµæ§‹ä¾†çµ„ç¹”å°èˆª
- **ä¸€è‡´æ€§**: ä¿æŒå°èˆªæ¨™ç±¤å’Œåœ–æ¨™çš„ä¸€è‡´æ€§
- **ç°¡æ½”æ€§**: é¿å…éå¤šçš„å°èˆªé …ç›®

##### 27.19.2 ç”¨æˆ¶é«”é©—
- **æ¸…æ™°çš„æ¨™ç±¤**: ä½¿ç”¨æè¿°æ€§çš„å°èˆªæ¨™ç±¤
- **é©ç•¶çš„åœ–æ¨™**: é¸æ“‡æœ‰æ„ç¾©çš„åœ–æ¨™
- **è¦–è¦ºåé¥‹**: æä¾›é©ç•¶çš„æ´»å‹•ç‹€æ…‹æŒ‡ç¤º
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**: ç¢ºä¿åœ¨ç§»å‹•è¨­å‚™ä¸Šçš„å¯ç”¨æ€§

##### 27.19.3 æ€§èƒ½è€ƒæ…®
- **æ¢ä»¶æ¸²æŸ“**: åˆç†ä½¿ç”¨æ¢ä»¶é¡¯ç¤º
- **æ¬Šé™æ§åˆ¶**: åŸºæ–¼ç”¨æˆ¶æ¬Šé™é¡¯ç¤ºå°èˆªé …ç›®
- **ç·©å­˜ç­–ç•¥**: è€ƒæ…®å°èˆªé …ç›®çš„ç·©å­˜

##### 27.19.4 å¯è¨ªå•æ€§
- **éµç›¤å°èˆª**: ç¢ºä¿å¯ä»¥é€šééµç›¤è¨ªå•æ‰€æœ‰å°èˆªé …ç›®
- **å±å¹•é–±è®€å™¨**: æä¾›é©ç•¶çš„ ARIA æ¨™ç±¤
- **é¡è‰²å°æ¯”**: ç¢ºä¿è¶³å¤ çš„é¡è‰²å°æ¯”åº¦
- **ç„¦é»ç®¡ç†**: æ­£ç¢ºç®¡ç†ç„¦é»ç‹€æ…‹

#### 27.20 å°èˆªé…ç½®ç¤ºä¾‹

**å®Œæ•´çš„å°èˆªé…ç½®ç¤ºä¾‹ï¼š**
```php
use Filament\Panel;
use Filament\Navigation\NavigationBuilder;
use Filament\Navigation\NavigationGroup;
use Filament\Navigation\NavigationItem;

public function panel(Panel $panel): Panel
{
    return $panel
        ->navigation(function (NavigationBuilder $builder): NavigationBuilder {
            return $builder
                ->groups([
                    NavigationGroup::make('Content Management')
                        ->icon('heroicon-o-document-text')
                        ->items([
                            ...PageResource::getNavigationItems(),
                            ...PostResource::getNavigationItems(),
                            ...CategoryResource::getNavigationItems(),
                        ]),
                    NavigationGroup::make('User Management')
                        ->icon('heroicon-o-users')
                        ->items([
                            ...UserResource::getNavigationItems(),
                            ...RoleResource::getNavigationItems(),
                        ]),
                    NavigationGroup::make('Settings')
                        ->icon('heroicon-o-cog-6-tooth')
                        ->items([
                            ...Settings::getNavigationItems(),
                        ]),
                ])
                ->items([
                    NavigationItem::make('Analytics')
                        ->url('https://analytics.example.com')
                        ->icon('heroicon-o-chart-bar')
                        ->group('Reports')
                        ->visible(fn(): bool => auth()->user()->can('view-analytics')),
                ]);
        })
        ->sidebarCollapsibleOnDesktop()
        ->sidebarWidth('20rem')
        ->collapsedSidebarWidth('5rem');
}
```

é€™å€‹å°èˆªç³»çµ±æä¾›äº†å¼·å¤§çš„è‡ªå®šç¾©èƒ½åŠ›ï¼Œè®“æ‚¨å¯ä»¥å‰µå»ºç›´è§€ä¸”ç”¨æˆ¶å‹å¥½çš„ç®¡ç†ç•Œé¢å°èˆªçµæ§‹ã€‚


è¨˜ä½ï¼ŒFilament æ˜¯ä¸€å€‹æ´»èºçš„é–‹æºé …ç›®ï¼Œå®šæœŸæœƒæœ‰æ›´æ–°å’Œæ–°åŠŸèƒ½ã€‚å»ºè­°å®šæœŸæŸ¥çœ‹å®˜æ–¹æ–‡æª”ä»¥ç²å–æœ€æ–°ä¿¡æ¯ã€‚
